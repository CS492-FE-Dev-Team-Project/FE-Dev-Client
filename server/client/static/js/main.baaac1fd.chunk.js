(this["webpackJsonpfe-dev-client"]=this["webpackJsonpfe-dev-client"]||[]).push([[0],{179:function(e,t,c){},215:function(e,t,c){},279:function(e,t,c){"use strict";c.r(t);var n,r,i,s,a,o=c(0),l=c.n(o),u=c(30),j=c.n(u),d=c(13),b=(c(179),c(43)),O=c(10),h=c(51),x=c(118),f=c(120),m=c(135),p=c(87),v=c(121),g=c.p+"static/media/naver_login_eng.69b5671c.png";!function(e){e.INSTRUCTOR="instructor",e.STUDENT="student"}(n||(n={})),function(e){e[e.LOADED=0]="LOADED",e[e.LOADING=1]="LOADING",e[e.NOTLOADED=2]="NOTLOADED"}(r||(r={})),function(e){e.QUESTION="Question",e.DISCUSSION="Discussion"}(i||(i={})),function(e){e[e.EN=0]="EN",e[e.KO=1]="KO"}(s||(s={})),function(e){e.USER="user",e.VIDEO="video",e.NOTICE="notice"}(a||(a={}));var C=Object(o.createContext)({userName:"",status:r.LOADED,id:-1}),w=c.p+"static/media/logo1.23d60d6d.svg",S=c(1),I=function(e){var t=Object.assign({},e);return Object(S.jsx)(x.a,Object(h.a)(Object(h.a)({w:460,h:100,colorScheme:"white"},t),{},{children:Object(S.jsx)(f.a,{src:g,fit:"fill"})}))},k=function(){var e=Object(o.useContext)(C).status;return Object(S.jsxs)(m.a,{size:"xl",isOpen:e!==r.LOADED,onClose:function(){console.log()},children:[Object(S.jsx)(m.g,{}),e===r.LOADING?Object(S.jsx)(p.a,{}):Object(S.jsxs)(m.d,{children:[Object(S.jsx)(m.f,{children:Object(S.jsxs)(v.k,{w:"100%",children:[Object(S.jsxs)(v.c,{w:"100%",h:"60px",children:[Object(S.jsx)(v.g,{}),Object(S.jsx)(f.a,{src:w,alt:"liveclass",h:"60px"}),Object(S.jsx)(v.g,{})]}),Object(S.jsx)(v.a,{w:"100%",textAlign:"center",fontSize:"50px",fontWeight:"bold",children:"LOG IN"})]})}),Object(S.jsx)(m.b,{children:Object(S.jsx)(v.c,{children:Object(S.jsxs)(v.a,{w:"100%",display:"flex",children:[Object(S.jsx)(v.g,{}),Object(S.jsx)(I,{onClick:function(){window.location.pathname="/api/auth/naver"}}),Object(S.jsx)(v.g,{})]})})})]})]})},y=Object(o.createContext)({getSocket:function(){return null},getConnected:function(){return!1},getError:function(){},subscribeEvent:function(){},getEventMsg:function(){return""}}),L=function(){var e=Object(o.useContext)(y),t=e.getSocket,c=e.getConnected,n=e.getError;return{socket:t(),connected:c(),error:n()}},T=c(90),N=c(9),E=c(149);function z(e){var t=e.url,c=e.children,n=e.options,r=e.debug,i=void 0===r||r,s=Object(o.useState)(null),a=Object(N.a)(s,2),l=a[0],u=a[1],j=Object(o.useState)(!1),d=Object(N.a)(j,2),b=d[0],O=d[1],x=Object(o.useState)(null),f=Object(N.a)(x,2),m=f[0],p=f[1],v=Object(o.useState)({}),g=Object(N.a)(v,2),C=g[0],w=g[1];Object(o.useEffect)((function(){var e=Object(E.a)(t,n);return u(e),e.on("connect",(function(){O(!0)})),e.on("disconnect",(function(){e.removeAllListeners(),O(!1)})),e.on("error",(function(e){p(e)})),i&&e.onAny((function(e){for(var t=arguments.length,c=new Array(t>1?t-1:0),n=1;n<t;n++)c[n-1]=arguments[n];console.log(e,c)})),function(){u(null),e.disconnect()}}),[t,n]);return Object(S.jsx)(y.Provider,{value:{getSocket:function(){return l},getConnected:function(){return b},getError:function(){return m},subscribeEvent:function(e){null===l||void 0===l||l.on(e,(function(t){!function(e,t){w(Object(h.a)(Object(h.a)({},C),{},Object(T.a)({},e,t)))}(e,t)}))},getEventMsg:function(e){return C[e]}},children:c})}z.defaultProps={options:null};var M,D=z,U=c(20),A=c(14),R=c(136),V=c(8),F=c(19),P=c(122),G=c(63),J=Object(o.createContext)({isLive:!1,setIsLive:function(){return null},selectedVidIdx:0,setSelectedVidIdx:function(){return null}}),B=function(e){var t=e.entry,c=Object(O.g)(),r=(c.classUuid,c.memberType),i=(c.lectureId,Object(o.useContext)(J)),s=i.isLive,l=i.selectedVidIdx,u=i.setSelectedVidIdx,j=!1;t.type===a.VIDEO&&(j=t.videoIdx===l);return Object(S.jsx)(v.a,{as:"button",height:"28px",lineHeight:"1.1",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",border:"1px",px:"8px",borderRadius:"2px",fontSize:"20px",textAlign:"start",bg:"white",borderColor:j?"#FF4A3E":"white",color:"black",_hover:{bg:"#ebedf0"},_active:{bg:"#dddfe2",transform:"scale(0.98)",borderColor:"#bec3c9"},_focus:{boxShadow:"0 0 1px 2px rgba(88, 144, 255, .75), 0 1px 1px rgba(0, 0, 0, .15)"},onClick:function(){switch(t.type){case a.USER:alert(t.userId);break;case a.VIDEO:if(r===n.STUDENT&&s)return;u(t.videoIdx),r===n.INSTRUCTOR&&s&&t.onClickHandler();break;case a.NOTICE:t.onClickHandler?t.onClickHandler():alert(t.message)}},children:t.tabName.slice(0,12)})},Q=function(e){var t=e.tabTitle,c=e.tabContents;return Object(S.jsx)(v.a,{w:"175px",children:Object(S.jsxs)(v.h,{spacing:0,children:[Object(S.jsx)(v.a,{letterSpacing:"wide",justifyContent:"flex-start",fontWeight:"bold",fontSize:"18px",ml:"2",mt:"2",children:t}),Object(S.jsx)(v.a,{w:"100%",h:"3px"}),c.map((function(e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(B,{entry:e}),Object(S.jsx)(v.a,{w:"100%",h:"3px"})]})}))]})})},q=Object(o.createContext)({language:s.KO,setLanguage:function(){return null}}),H=Object(V.b)({displayName:"GlobeIcon",path:Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(S.jsx)("path",{d:"M24 24h-2.784l-1.07-3h-4.875l-1.077 3h-2.697l4.941-13h2.604l4.958 13zm-4.573-5.069l-1.705-4.903-1.712 4.903h3.417zm-9.252-12.804c.126-.486.201-.852.271-1.212l-2.199-.428c-.036.185-.102.533-.22 1-.742-.109-1.532-.122-2.332-.041.019-.537.052-1.063.098-1.569h2.456v-2.083h-2.161c.106-.531.198-.849.288-1.149l-2.147-.645c-.158.526-.29 1.042-.422 1.794h-2.451v2.083h2.184c-.058.673-.093 1.371-.103 2.077-2.413.886-3.437 2.575-3.437 4.107 0 1.809 1.427 3.399 3.684 3.194 2.802-.255 4.673-2.371 5.77-4.974 1.134.654 1.608 1.753 1.181 2.771-.396.941-1.561 1.838-3.785 1.792v2.242c2.469.038 4.898-.899 5.85-3.166.93-2.214-.132-4.635-2.525-5.793zm-2.892 1.531c-.349.774-.809 1.544-1.395 2.15-.09-.646-.151-1.353-.184-2.108.533-.07 1.072-.083 1.579-.042zm-3.788.724c.062.947.169 1.818.317 2.596-1.996.365-2.076-1.603-.317-2.596zm11.236-1.745l-2.075-5.533 5.414-1.104-.976 1.868c2.999 2.418 4.116 5.645 4.532 8.132-1.736-2.913-3.826-4.478-5.885-5.321l-1.01 1.958zm-7.895 10.781l1.985 5.566-5.43 1.016 1.006-1.852c-2.96-2.465-4.021-5.654-4.397-8.148 1.689 2.94 3.749 4.483 5.794 5.36l1.042-1.942zm10.795-6.029"})})}),_=function(e){var t=e.menus,c=Object(o.useContext)(q),n=(c.language,c.setLanguage),r=Object(O.f)();return Object(S.jsxs)(v.c,{w:"190px",h:"100vh",flexDir:"column",children:[Object(S.jsx)(v.c,{overflowX:"hidden",overflowY:"auto",flexDir:"column",children:Object(S.jsx)(v.a,{ml:"2",children:Object(S.jsx)(v.k,{divider:Object(S.jsx)(v.i,{borderColor:"gray.200"}),spacing:0,w:"190px",align:"stretch",children:t.map((function(e){return Object(S.jsx)(Q,{tabTitle:e.tabTitle,tabContents:e.tabContents})}))})})}),Object(S.jsx)(v.g,{}),Object(S.jsx)(v.c,{p:"10px 10px",w:"full",backgroundColor:"white",flexDir:"column",children:Object(S.jsxs)(v.a,{bottom:0,children:[Object(S.jsxs)(P.a,{children:[Object(S.jsx)(P.f,{children:Object(S.jsx)(x.b,{size:"md",colorScheme:"red",icon:Object(S.jsx)(F.e,{}),"aria-label":"Quit",m:.5})}),Object(S.jsxs)(P.e,{w:180,children:[Object(S.jsx)(P.b,{}),Object(S.jsx)(P.c,{children:Object(S.jsx)(x.a,{colorScheme:"red",w:150,onClick:function(){return r(-1)},children:"Quit room"})})]})]}),Object(S.jsx)(x.b,{size:"md",icon:Object(S.jsx)(F.h,{}),"aria-label":"Settings",m:.5}),Object(S.jsx)(P.a,{placement:"top-start",children:function(e){var t=e.onClose;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(P.f,{children:Object(S.jsx)(x.b,{size:"sm",icon:Object(S.jsx)(H,{}),"aria-label":"Settings",m:.5})}),Object(S.jsx)(G.a,{children:Object(S.jsx)(P.e,{w:"165px",h:"60px",children:Object(S.jsxs)(P.c,{children:[Object(S.jsx)(x.a,{colorScheme:"green",marginRight:"2px",onClick:function(){n(s.EN),t()},children:"EN"}),Object(S.jsx)(x.a,{colorScheme:"blue",onClick:function(){n(s.KO),t()},children:"\ud55c\uae00"}),Object(S.jsx)(P.d,{})]})})})]})}})]})})]})},W=[{tabName:"Notice",type:a.NOTICE,message:"Notice message"},{tabName:"Materials",type:a.NOTICE,message:"Materials message"}],Y=function(){var e=L().connected;return Object(S.jsx)(v.c,{position:"fixed",left:5,bottom:10,zIndex:3,w:"300px",h:"200px",backgroundColor:"gray.300",justifyContent:"center",alignContent:"center",borderRadius:"30px",opacity:"0.8",color:e?"blue.500":"red.500",children:Object(S.jsx)(v.j,{height:"fit-content",fontSize:"2xl",children:"Connected: ".concat(e?"True":"False")})})},K=Object(V.b)({displayName:"flagIcon",path:Object(S.jsx)("svg",{className:"flagIcon",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 206.505 206.505",xmlSpace:"preserve",children:Object(S.jsx)("g",{children:Object(S.jsx)("path",{d:"M167.069,16.354c-0.426,0.186-43.29,18.671-70.274-4.481c-31.021-26.619-60.722-0.2-61.012,0.072 L34.623,13l-0.179,193.494l7.108,0.011l0.115-122.594c5.157-4.091,27.11-19.086,50.498,0.988 c30.356,26.047,75.839,6.438,77.765,5.59l2.133-0.938V14.153L167.069,16.354z M164.943,84.824 c-8.997,3.389-44.603,14.874-68.148-5.322c-10.375-8.904-20.6-11.871-29.629-11.871c-10.815,0-19.923,4.266-25.489,7.702 l0.047-59.101c5.264-4.169,27.142-18.961,50.44,1.034c24.855,21.323,59.863,12.043,72.78,7.516V84.824z"})})})}),X=function(e){var t=e.children,c=e.onClick;return Object(S.jsx)(x.a,{className:"ClipboardButton",leftIcon:Object(S.jsx)(F.f,{}),"aria-label":"Settings",m:.5,onClick:c,children:t})},Z=function(e){var t=e.onClick;return Object(S.jsxs)(v.a,{className:"create-timeline-marker",children:[Object(S.jsx)(x.a,{colorScheme:"red",leftIcon:Object(S.jsx)(K,{}),marginRight:"2px",onClick:function(){return t(i.QUESTION)},children:"Question"}),Object(S.jsx)(x.a,{colorScheme:"blue",leftIcon:Object(S.jsx)(K,{}),onClick:function(){return t(i.DISCUSSION)},children:"Discussion"})]})},$=c(141),ee=c.n($),te=function(e){e.imgSrc;var t=e.title,c=e.subTitle,n=(e.color,e.backgroundColor,ee()({title:t})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=(r?parseInt(r[1],16):0)+(r?parseInt(r[2],16):0)+(r?parseInt(r[3],16):0)<381;return Object(S.jsx)(v.a,{w:"270px",h:150,overflow:"hidden",position:"relative",borderRadius:"30px",color:i?"white":"black",_hover:{cursor:"pointer",boxShadow:"0 0 3px rgba(0,0,0,1)"},children:Object(S.jsxs)(v.c,{p:4,w:"full",h:"100%",position:"absolute",bottom:0,backgroundColor:n,direction:"column",children:[Object(S.jsx)(v.a,{pl:"5px",fontSize:40,fontWeight:"bold",display:"inline",marginTop:"auto",children:"".concat(t,"   ")}),Object(S.jsx)(v.a,{pl:"5px",fontSize:20,fontWeight:"bold",display:"inline",children:"".concat(c)})]})})},ce=function(){var e=Object(O.g)(),t=e.classUuid,c=e.memberType,n=L(),r=n.socket,i=n.connected,s=Object(o.useState)([]),l=Object(N.a)(s,2),u=l[0],j=l[1],d=Object(A.c)(t),h=(d.hasCopied,d.onCopy),f=Object(R.a)(),m={tabTitle:"Classroom",tabContents:W},p=Object(o.useState)([]),g=Object(N.a)(p,2),C=g[0],w=g[1],I={tabTitle:"Classmates",tabContents:C};Object(o.useEffect)((function(){var e=JSON.stringify({classUuid:t});null===r||void 0===r||r.on("JoinClass",(function(){null===r||void 0===r||r.emit("GetClassMembers",e),null===r||void 0===r||r.emit("GetLectures",e)})),null===r||void 0===r||r.emit("JoinClass",e),null===r||void 0===r||r.on("CreateLecture",(function(e){var t=e.lecture;200===e.status&&j((function(e){return[].concat(Object(U.a)(e),[t])}))})),null===r||void 0===r||r.on("GetClassMembers",(function(e){var t=e.members;if(200===e.status){var c=t.map((function(e){return{tabName:e.userName,type:a.USER,userId:e.id}}));w(c)}})),null===r||void 0===r||r.on("GetLectures",(function(e){var t=e.lectures;200===e.status&&j(t)}))}),[i]);var k=i&&u&&u.map((function(e){var n=e.id,r=e.lectureDate,i=e.lectureName,s=e.LiveStatus;return Object(S.jsx)(b.b,{to:"/class/".concat(t,"/").concat(c,"/").concat(n),children:Object(S.jsx)(te,{title:"".concat(i,"#").concat(n),subTitle:"".concat(s?"LIVE":"NotLive","-").concat(r),color:"white",backgroundColor:"black"})},n)}));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Y,{}),Object(S.jsxs)(v.c,{children:[Object(S.jsx)(_,{menus:[m,I]}),Object(S.jsx)(v.a,{w:"8px",h:"100vh"}),Object(S.jsxs)(v.a,{w:"100%",h:"100vh",children:[k,"instructor"===c&&Object(S.jsx)(b.b,{to:"/class/".concat(t,"/").concat(c,"/createLecture"),children:Object(S.jsx)(x.a,{children:"Create new lecture"})}),Object(S.jsx)(X,{onClick:function(){h(),f({title:"ClassId copied to your clipboard!",status:"success",duration:1500,isClosable:!0})},children:"Copy Class Id"})]})]})]})},ne=c(142),re=(c(215),c(123)),ie=function(e){var t=e.color;return Object(S.jsxs)("svg",{width:"26",height:"42",viewBox:"0 0 26 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(S.jsx)("path",{id:"FlagSVGStroke",d:"M0.25 41.75V1.35983C0.478428 0.930839 0.673497 0.640584 0.845353 0.461995C1.02353 0.276835 1.14455 0.243676 1.22836 0.250958C1.32482 0.259338 1.46095 0.327377 1.65137 0.532983C1.82818 0.723902 2.02343 1.00219 2.25 1.36856V41.75H0.25Z",fill:t,stroke:"black",strokeWidth:"0.5"}),Object(S.jsx)("path",{id:"FlagSVGStroke",d:"M0.25 20.8038V3.86704C5.79233 6.03311 9.95189 6.92656 13.8517 6.82338C17.6706 6.72233 21.2189 5.66585 25.5464 3.95051C24.221 7.25607 23.5865 9.87565 23.6068 12.4474C23.6276 15.0852 24.3371 17.6498 25.6573 20.8285C20.9883 21.9986 17.2644 22.6277 13.4138 22.6521C9.53251 22.6767 5.51003 22.087 0.25 20.8038Z",fill:t,stroke:"black",strokeWidth:"0.5"})]})},se=function(e){var t=e.id,c=e.time,n=e.markerType,r=(e.videoIndex,L().socket);return Object(S.jsx)("button",{className:"timeline-marker",style:{left:"".concat(c,"%")},type:"button","aria-label":"timeline",onClick:function(){return function(){var e=JSON.stringify({markerId:t,markerType:n});null===r||void 0===r||r.emit("TimeMarkerClicked",e)}()},children:Object(S.jsx)(ie,{color:function(e){switch(e){case i.DISCUSSION:return"blue";case i.QUESTION:return"red";default:throw new Error("Invalid MarkerType")}}(n)})})};!function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED"}(M||(M={}));var ae,oe=function(e){var t,c,r=e.memberType,i=e.classUuid,s=e.lectureId,a=e.videoId,l=e.videoIndex,u=e.width,j=void 0===u?"100%":u,d=e.height,b=void 0===d?"100%":d,O=e.isControled,h=L(),x=h.socket,f=h.connected,m=Object(o.useState)(null),p=Object(N.a)(m,2),v=p[0],g=p[1],C=Object(o.useState)(0),w=Object(N.a)(C,2),I=w[0],k=w[1],y=Object(o.useRef)(0),T=Object(o.useRef)(null),E=Object(o.useRef)(null),z=Object(o.useRef)(null),D=Object(o.useState)([]),A=Object(N.a)(D,2),R=A[0],V=A[1];"NULL"===a?function(){var e;null===(e=E.current)||void 0===e||e.classList.add("coverVideo")}():function(){var e;null===(e=E.current)||void 0===e||e.classList.remove("coverVideo")}();Object(o.useEffect)((function(){return f&&v&&(O&&(null===x||void 0===x||x.on("InstructorTimeChange",(function(e){null===v||void 0===v||v.seekTo(e)})),null===x||void 0===x||x.on("InstructorPlay",(function(){null===v||void 0===v||v.playVideo()})),null===x||void 0===x||x.on("InstructorPause",(function(){null===v||void 0===v||v.pauseVideo()}))),null===x||void 0===x||x.on("GetMarkers",(function(e){var t=e.markers;200===e.status&&V(t)})),null===x||void 0===x||x.emit("GetMarkers",{classUuid:i,lectureId:s})),null===x||void 0===x||x.on("CreateMarker",(function(e){var t=e.marker;200===e.status&&V((function(e){return[].concat(Object(U.a)(e),[t])}))})),function(){clearInterval(T.current),null===x||void 0===x||x.off("InstructorTimeChange"),null===x||void 0===x||x.off("InstructorPlay"),null===x||void 0===x||x.off("InstructorPause"),null===x||void 0===x||x.off("GetMarkers"),null===x||void 0===x||x.off("CreateMarker")}}),[f,v]),O?null===(t=E.current)||void 0===t||t.classList.add("live"):null===(c=E.current)||void 0===c||c.classList.remove("live");var F={height:b.toString(),width:j.toString(),playerVars:{autoplay:0,controls:O?0:1,disablekb:O?1:0,rel:0}},P={backgroundImage:"url(".concat("https://previews.123rf.com/images/sevenozz/sevenozz1812/sevenozz181200056/127054720-vintage-tv-test-screen-please-stand-by-television-calibration-pattern.jpg",")"),backgroundSize:"100% 100%"};return Object(S.jsxs)("div",{className:r===n.INSTRUCTOR?"teacher":"student",id:"youtube-wrapper",ref:E,style:{width:j,height:b},onMouseEnter:function(){var e;null===(e=z.current)||void 0===e||e.classList.add("showTimeline")},onMouseLeave:function(){var e;null===(e=z.current)||void 0===e||e.classList.remove("showTimeline")},children:[Object(S.jsx)(Z,{onClick:function(e){var t=v.getCurrentTime();t=t>y.current?y.current-5:t;var c={classUuid:i,lectureId:s,marker:{markerType:e,time:t/y.current*100,videoIndex:l}};null===x||void 0===x||x.emit("CreateMarker",JSON.stringify(c))}}),Object(S.jsxs)("div",{className:"video-timeline-components",ref:z,children:[R.map((function(e){var t=e.id,c=e.markerType,n=e.time;return 0===y.current?Object(S.jsx)("div",{}):Object(S.jsx)(se,{id:t,time:n,markerType:c,videoIndex:l})})),O?Object(S.jsx)(re.a,{colorScheme:"red",position:"absolute",bottom:"35px",height:"5px",width:"100%",value:y.current?I/y.current*100:0}):Object(S.jsx)("div",{})]}),Object(S.jsx)("div",{className:"video-cover",style:P}),Object(S.jsx)("div",{className:"video-container",children:Object(S.jsx)(ne.a,{className:"video",videoId:a,opts:F,onReady:function(e){g(e.target)},onPlay:function(e){v&&(y.current=v.playerInfo.duration),T.current=setInterval((function(){k(v.getCurrentTime())}),100)},onPause:function(e){clearInterval(T.current)},onStateChange:function(e){if(!O){var t=e.target,c=JSON.stringify({classUuid:i,lectureId:s,newtime:t.getCurrentTime()});e.data===M.BUFFERING?null===x||void 0===x||x.emit("InstructorTimeChange",c):e.data===M.PLAYING?(null===x||void 0===x||x.emit("InstructorTimeChange",c),null===x||void 0===x||x.emit("InstructorPlay",c)):e.data===M.PAUSED&&(null===x||void 0===x||x.emit("InstructorPause",c))}}})})]})},le=c(53),ue=function(e){var t=e.message,c=e.backgroundColor,n=e.color;return Object(S.jsx)(v.a,{maxWidth:"200px",backgroundColor:c,color:n,marginBottom:"auto",borderRadius:"7px",fontSize:"14px",p:"5px 7px",children:t})},je=function(e){var t=e.time;return Object(S.jsx)(v.a,{fontSize:5,marginTop:"auto",p:1,color:"black",children:t})},de=function(e){var t=e.userName;return Object(S.jsx)(v.a,{width:"fit-content",mt:0,mb:.5,fontSize:"14px",p:"2px 5px",textAlign:"start",children:t})},be=function(e){var t=e.userName,c=e.message,n=e.time,r=e.isMy;return Object(S.jsxs)(v.a,{width:"full",p:"4px 8px 0px",m:0,children:[!r&&Object(S.jsx)(de,{userName:t}),Object(S.jsx)(v.c,{display:"flex",justifyContent:r?"right":"left",alignContent:"center",m:0,children:r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(je,{time:n}),Object(S.jsx)(ue,{message:c,backgroundColor:"blue.500",color:"gray.50"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ue,{message:c,backgroundColor:"gray.100",color:"black"}),Object(S.jsx)(je,{time:n})]})})]})},Oe=c(124),he=(Object(V.b)({displayName:"RecordIcon",path:Object(S.jsxs)("svg",{children:[Object(S.jsx)("g",{id:"Livello_7",children:Object(S.jsx)("path",{d:"M91.192,59.623V21.946c0.043-0.534,0.068-1.073,0.068-1.618C91.262,9.102,82.161,0,70.935,0   c-11.229,0-20.33,9.104-20.33,20.328c0,0.545,0.024,1.084,0.066,1.618v37.677c-0.042,0.535-0.066,1.073-0.066,1.621   c0,11.229,9.103,20.326,20.329,20.326c11.227,0,20.327-9.1,20.327-20.326C91.262,60.696,91.235,60.158,91.192,59.623    M120.942,50.219c0-3.084-2.5-5.584-5.584-5.584c-3.082,0-5.582,2.5-5.582,5.584c0,0.047,0.004,0.092,0.008,0.139   c-0.076,21.43-17.471,38.779-38.917,38.779c-21.448,0-38.842-17.353-38.917-38.779c0.002-0.047,0.008-0.092,0.008-0.139   c0-3.084-2.5-5.584-5.584-5.584s-5.585,2.5-5.585,5.584c0,25.714,19.388,46.896,44.339,49.743v28.648H38.78   c-2.96,0-5.358,2.402-5.358,5.361c0,2.961,2.398,5.355,5.358,5.355h26.35h11.61h26.35c2.959,0,5.357-2.396,5.357-5.355   c0-2.959-2.398-5.361-5.357-5.361h-26.35V99.945C101.628,97.039,120.942,75.885,120.942,50.219"})}),Object(S.jsx)("g",{id:"Livello_1_1_"})]})}),Object(V.b)({displayName:"flagIcon",path:Object(S.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 206.505 206.505",xmlSpace:"preserve",children:Object(S.jsx)("g",{children:Object(S.jsx)("path",{d:"M167.069,16.354c-0.426,0.186-43.29,18.671-70.274-4.481c-31.021-26.619-60.722-0.2-61.012,0.072 L34.623,13l-0.179,193.494l7.108,0.011l0.115-122.594c5.157-4.091,27.11-19.086,50.498,0.988 c30.356,26.047,75.839,6.438,77.765,5.59l2.133-0.938V14.153L167.069,16.354z M164.943,84.824 c-8.997,3.389-44.603,14.874-68.148-5.322c-10.375-8.904-20.6-11.871-29.629-11.871c-10.815,0-19.923,4.266-25.489,7.702 l0.047-59.101c5.264-4.169,27.142-18.961,50.44,1.034c24.855,21.323,59.863,12.043,72.78,7.516V84.824z"})})})}),function(e){return Object(S.jsx)(V.a,Object(h.a)(Object(h.a)({viewBox:"0 0 200 200"},e),{},{children:Object(S.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}))}),xe=function(){var e=Object(O.g)(),t=e.classUuid,c=e.lectureId;if(!t)throw new Error("No ClassUuid");if(!c)throw new Error("No Lecture Id");return{classUuid:t,lectureId:parseInt(c,10)}},fe=function(){var e=Object(o.useState)(),t=Object(N.a)(e,2),c=t[0],n=t[1],r=Object(o.useState)(),i=Object(N.a)(r,2),s=i[0],a=i[1],l=Object(o.useState)(!0),u=Object(N.a)(l,2),j=u[0],d=u[1],b=Object(o.useState)(),O=Object(N.a)(b,2),h=O[0],f=O[1],m=Object(o.useState)(),p=Object(N.a)(m,2),v=p[0],g=p[1],C=Object(o.useState)(),w=Object(N.a)(C,2),I=w[0],k=w[1],y=L(),T=y.socket,E=y.connected,z=xe(),M=z.classUuid,D=z.lectureId;Object(o.useEffect)((function(){E&&T&&T.on("LiveChatAudioMessage",(function(e){var t=e.arrayBuffer,c=(e.senderId,new Blob([new Uint8Array(t)])),n=URL.createObjectURL(c);new Audio(n).play()}))}),[E]);var U=Object(o.useCallback)((function(){if(I){var e=new File([I],"soundBlob",{lastModified:(new Date).getTime(),type:"audio"}),t={classUuid:M,lectureId:D,arrayBuffer:e};null===T||void 0===T||T.emit("LiveChatAudioMessage",t)}}),[I]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x.b,{"aria-label":"Record Voice Chat",icon:Object(S.jsx)(he,{style:{color:j?"black":"red"}}),onClick:j?function(){var e=new window.AudioContext,t=e.createScriptProcessor(0,1,1);g(t);navigator.mediaDevices.getUserMedia({audio:!0}).then((function(c){var r=new MediaRecorder(c);r.start(),n(c),a(r),function(c){var n=e.createMediaStreamSource(c);f(n),n.connect(t),t.connect(e.destination)}(c),t.onaudioprocess=function(n){n.playbackTime>180?(c.getAudioTracks().forEach((function(e){e.stop()})),r.stop(),t.disconnect(),e.createMediaStreamSource(c).disconnect(),r.ondataavailable=function(e){k(e.data),d(!0)}):d(!1)}}))}:function(){s&&(s.ondataavailable=function(e){k(e.data),d(!0)}),c&&c.getAudioTracks().forEach((function(e){e.stop()})),s&&s.stop(),v&&v.disconnect(),h&&h.disconnect()}}),Object(S.jsx)("button",{type:"button",onClick:U,children:"Send Audio Message"})]})},me=function(e){var t=e.sendMessage,c=Object(o.useState)(""),n=Object(N.a)(c,2),r=n[0],i=n[1];return Object(S.jsxs)(v.c,{p:"8px 6px",w:"full",backgroundColor:"white",flexDir:"column",children:[Object(S.jsx)(Oe.a,{placeholder:"Enter Chat",fontSize:"14px",rows:2,m:.5,borderColor:"black",p:"5px 5px",resize:"vertical",value:r,onChange:function(e){i(e.target.value)}}),Object(S.jsxs)(v.c,{justifyContent:"right",children:[Object(S.jsx)(x.b,{size:"md",icon:Object(S.jsx)(F.i,{}),"aria-label":"Timeline",m:.5}),Object(S.jsx)(x.b,{onClick:function(e){t(r),i("")},size:"md",icon:Object(S.jsx)(F.c,{}),"aria-label":"Send Message",m:.5}),Object(S.jsx)(fe,{})]})]})},pe=function(e){var t=e.children,c=e.backgroundColor,n=e.color,r=e.headingSize,i=e.p,s=e.headingText;return Object(S.jsxs)(v.c,{width:"full",p:i,backgroundColor:c,color:n,justify:"space-between",children:[Object(S.jsx)(v.e,{mt:"3px",size:r,children:s}),Object(S.jsx)(v.c,{children:t})]})},ve=function(){var e=Object(o.useContext)(C);return{status:e.status,userName:e.userName,id:e.id}};!function(e){e.Marker="Marker",e.Live="Live",e.Individual="Individual"}(ae||(ae={}));var ge=function(e){var t=e.hasHeader,c=e.classUuid,n=e.lectureId,r=(e.customHeader,L()),s=r.socket,a=r.connected,l=Object(o.useState)([]),u=Object(N.a)(l,2),j=u[0],d=u[1],b=Object(o.useRef)({chatMode:ae.Live}),O=Object(o.useRef)(-1),h=ve().id,x=function(e){switch(e.chatMode){case ae.Live:return"Live Chat";case ae.Marker:return e.markerType===i.QUESTION?"Question":"Discussion";case ae.Individual:return e.peer.name;default:throw new Error("Invalid ChatStatus")}}(b.current),f=function(e){var t=e.dateStr,c=e.senderId,n=e.senderName,r=e.text,i=e.messageId,s=new Date(t);return{messageId:i,userName:n,message:r,time:"".concat(s.getHours(),":").concat(s.getMinutes()),isMy:c===h}};Object(o.useEffect)((function(){null===s||void 0===s||s.on("TimeMarkerClicked",(function(e,t){O.current=e,b.current={chatMode:ae.Marker,markerType:t},null===s||void 0===s||s.emit("GetMarkerMessages",JSON.stringify({markerId:e}))})),null===s||void 0===s||s.on("GetMarkerMessages",(function(e){var t=e.textMessages;e.status;d((function(e){return[]}));var c=t.map((function(e){return f(e)}));d((function(e){return[].concat(Object(U.a)(e),Object(U.a)(c))}))})),null===s||void 0===s||s.on("LiveChatTextMessage",(function(e){var t=e.message;200===e.status&&b.current.chatMode===ae.Live&&d((function(e){return[].concat(Object(U.a)(e),[f(t)])}))})),null===s||void 0===s||s.on("MarkerTextMessage",(function(e){var t=e.markerId,c=e.savedMessage;200===e.status&&b.current.chatMode===ae.Marker&&O.current===t&&d((function(e){return[].concat(Object(U.a)(e),[f(c)])}))}))}),[a]);return Object(S.jsxs)(v.c,{w:"auto",h:"100vh",backgroundColor:"gray.50",flexDir:"column",align:"center",children:[t&&Object(S.jsx)(pe,{backgroundColor:function(){switch(b.current.chatMode){case ae.Live:return"gray.50";case ae.Marker:return b.current.markerType===i.QUESTION?"#FF4A3E":"#3D9AFC";case ae.Individual:return"#298977";default:throw new Error("Invalid MarkerType")}}(),color:"black",headingSize:"md",headingText:x,p:"5px 15px",children:Object(S.jsx)(le.a,{marginLeft:"auto",size:"md",onClick:function(){b.current={chatMode:ae.Live},d([])}})}),Object(S.jsx)(v.c,{w:"280px",overflowY:"auto",pb:3,pt:3,flexDir:"column",h:"full",children:j.map((function(e){var t=e.userName,c=e.message,n=e.time,r=e.messageId,i=e.isMy;return Object(S.jsx)(be,{userName:t,message:c,time:n,isMy:i},r)}))}),Object(S.jsx)(me,{sendMessage:function(e){return function(e){if(0!==e.trim().length)switch(b.current.chatMode){case ae.Live:null===s||void 0===s||s.emit("LiveChatTextMessage",JSON.stringify({classUuid:c,lectureId:n,text:e}));break;case ae.Marker:null===s||void 0===s||s.emit("MarkerTextMessage",JSON.stringify({classUuid:c,lectureId:n,markerTextMessage:{markerId:O.current,message:e}}));break;case ae.Individual:break;default:throw new Error("Invalid ChatStatus")}}(e)}})]})},Ce=c(115),we=c.n(Ce),Se=c(145),Ie=c(146),ke=c.n(Ie);c(147).config();var ye,Le=function(){var e=Object(Se.a)(we.a.mark((function e(t){var c;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.a.get("https://www.googleapis.com/youtube/v3/playlistItems",{params:{part:"id,snippet",maxResults:10,playlistId:t,key:"AIzaSyCHVChOn1oiqENXEWez1FijV9bvlPs-XzI"}});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(O.g)(),t=e.classUuid,c=e.memberType,r=e.lectureId,i=L(),s=i.socket,l=i.connected,u=Object(o.useState)(),j=Object(N.a)(u,2),d=j[0],b=j[1],h=Object(o.useContext)(J),x=h.isLive,f=h.setIsLive,m=h.selectedVidIdx,p=h.setSelectedVidIdx,g=function(){},C=Object(o.useState)([]),w=Object(N.a)(C,2),I=w[0],k=w[1],y={tabTitle:"Playlist",tabContents:I},T=Object(o.useState)([]),E=Object(N.a)(T,2),z=E[0],M=E[1],D={tabTitle:"Participants",tabContents:z},A=Object(o.useState)(W),R=Object(N.a)(A,2),V=R[0],F=R[1],P={tabTitle:"Lecture room",tabContents:V};Object(o.useEffect)((function(){if(c===n.INSTRUCTOR){var e=JSON.stringify({classUuid:t,lectureId:r,status:!x}),i={tabName:"".concat(x?"\u26ab Off":"\ud83d\udd34 Go"," Live"),type:a.NOTICE,message:"toggleLive",onClickHandler:function(){null===s||void 0===s||s.emit("SetLectureLiveStatus",e)}};F([].concat(Object(U.a)(W),[i]))}else{var o={tabName:x?"\ud83d\udd34 On-Live":"\u26ab Off-Live",type:a.NOTICE,message:"notifyLive",onClickHandler:g};F([].concat(Object(U.a)(W),[o]))}}),[x]);var G=parseInt(r,10);return Object(o.useEffect)((function(){if(d){var e=[];Le(d.playlist).then((function(c){c.items.forEach((function(c,n){e.push({tabName:c.snippet.title,type:a.VIDEO,videoIdx:n,link:c.snippet.resourceId.videoId,onClickHandler:function(){null===s||void 0===s||s.emit("SelectVideo",{classUuid:t,lectureId:r,selectedVideoIdx:n})}})})),k(e)}))}}),[d]),Object(o.useEffect)((function(){null===s||void 0===s||s.on("JoinLecture",(function(e){var c=e.user,n=e.lecture;if(200===e.status){b(n);var r={tabName:c.userName,type:a.USER,userId:c.id};M((function(e){return[].concat(Object(U.a)(e),[r])}));var i={classUuid:t,lectureId:G};null===s||void 0===s||s.emit("GetActiveLectureMember",i)}}));var e={classUuid:t,lectureId:G};null===s||void 0===s||s.emit("JoinLecture",e),null===s||void 0===s||s.on("GetActiveLectureMember",(function(e){var t=e.members;if(200===e.status){var c=t.map((function(e){return{tabName:e.userName,type:a.USER,userId:e.id}}));M(c)}})),null===s||void 0===s||s.on("SetLectureLiveStatus",(function(e){var t=e.liveStatus;200===e.status&&f(t)})),null===s||void 0===s||s.on("SelectVideo",(function(e){var t=e.selectedVideoIdx;200===e.status&&p(t)}))}),[l]),console.log(x,c,x&&c===n.STUDENT),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Y,{}),Object(S.jsxs)(v.c,{children:[Object(S.jsx)(_,{menus:[P,y,D]}),Object(S.jsx)(v.a,{w:"8px",h:"100vh"}),Object(S.jsx)(v.a,{w:"100%",h:"100vh",children:Object(S.jsx)(oe,{memberType:null!==c&&void 0!==c?c:n.STUDENT,classUuid:null!==t&&void 0!==t?t:"uuid error",lectureId:G,videoIndex:m,videoId:I.length>0?I[m].link:"NULL",width:"100%",height:"100%",isControled:c===n.STUDENT&&x})}),Object(S.jsx)(ge,{classUuid:t,lectureId:G,hasHeader:!0})]})]})},Ne=c(89),Ee=c(65),ze=c(133),Me=function(e){var t=e.setModalState;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(x.a,{w:200,h:200,onClick:function(){t(ye.JOIN)},children:[Object(S.jsx)(F.b,{w:10,h:10}),Object(S.jsx)("br",{}),"Join"]}),Object(S.jsxs)(x.a,{w:200,h:200,onClick:function(){t(ye.CREATE)},children:[Object(S.jsx)(F.a,{w:10,h:10}),Object(S.jsx)("br",{}),"Create"]})]})},De=function(e){var t=e.onChangejoinUUID,c=e.handleJoin,n=e.onModalClose;return Object(S.jsxs)(v.h,{children:[Object(S.jsxs)(Ee.a,{children:[Object(S.jsx)(Ee.b,{children:"Join ID"}),Object(S.jsx)(ze.b,{size:"lg",children:Object(S.jsx)(ze.a,{type:"text",placeholder:"Class ID",onChange:t})})]}),Object(S.jsx)(x.a,{onClick:c,colorScheme:"blue",mr:3,children:"Join"}),Object(S.jsx)(x.a,{onClick:n,children:"Cancel"})]})},Ue=function(e){var t=e.onChangeTitle,c=e.onChangeSubtitle,n=e.handleCreate,r=e.onModalClose;return console.log(c),Object(S.jsxs)(v.h,{children:[Object(S.jsxs)(Ee.a,{children:[Object(S.jsx)(Ee.b,{children:"Class Title"}),Object(S.jsx)(ze.b,{size:"lg",children:Object(S.jsx)(ze.a,{type:"text",placeholder:"Class name",onChange:t})})]}),Object(S.jsxs)(Ee.a,{children:[Object(S.jsx)(Ee.b,{children:"Class Subtitle"}),Object(S.jsx)(ze.b,{children:Object(S.jsx)(ze.a,{type:"text",placeholder:"Class Subtitle",onChange:c})})]}),Object(S.jsx)(x.a,{onClick:n,colorScheme:"blue",mr:3,children:"Save"}),Object(S.jsx)(x.a,{onClick:r,children:"Cancel"})]})};!function(e){e[e.INIT=0]="INIT",e[e.JOIN=1]="JOIN",e[e.CREATE=2]="CREATE"}(ye||(ye={}));var Ae=function(e){var t=e.isOpen,c=e.onClose,n=e.addClass,r=l.a.useState(ye.INIT),i=Object(N.a)(r,2),s=i[0],a=i[1],o=l.a.useState(""),u=Object(N.a)(o,2),j=u[0],d=u[1],b=l.a.useState(""),O=Object(N.a)(b,2),h=O[0],x=O[1],f=l.a.useState(""),p=Object(N.a)(f,2),g=p[0],C=p[1],w=function(){d(""),x(""),C(""),c(),a(ye.INIT)};return Object(S.jsxs)(m.a,{isOpen:t,onClose:w,size:"xl",children:[Object(S.jsx)(m.g,{}),Object(S.jsxs)(m.d,{height:"500px",children:[Object(S.jsx)(m.f,{textAlign:"center",fontSize:"30px",fontWeight:"bold",children:"New Class"}),Object(S.jsx)(m.c,{}),Object(S.jsx)(m.b,{pb:6,h:"300px",children:Object(S.jsxs)(v.d,{justifyContent:"center",alignItems:"center",w:"full",h:"full",children:[s===ye.INIT&&Me({setModalState:a}),s===ye.JOIN&&De({onChangejoinUUID:function(e){C(e.target.value)},handleJoin:function(){fetch("http://localhost:5000/api/lobby/class",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:g})}).then((function(e){return e.json()})).then((function(e){if(200===e.status)n(e.class),w();else if(400===e.status)throw new Error(e.err)})).catch((function(e){console.error(e)}))},onModalClose:w}),s===ye.CREATE&&Ue({onChangeTitle:function(e){d(e.target.value)},onChangeSubtitle:function(e){x(e.target.value)},handleCreate:function(){fetch("http://localhost:5000/api/lobby/class",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:j,subtitle:h})}).then((function(e){return e.json()})).then((function(e){if(200===e.status)n(e.class),w();else if(400===e.status)throw new Error(e.err)})).catch((function(e){console.error(e)}))},onModalClose:w})]})})]})]})},Re=function(e){e.col;var t=e.children;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(v.f,{gridTemplateRows:"repeat(auto-fit, auto)",gridTemplateColumns:"repeat(auto-fit, 270px)",spacing:8,p:5,children:t})})},Ve=function(){var e=Object(o.useState)([]),t=Object(N.a)(e,2),c=t[0],n=t[1],i=ve().status;Object(o.useEffect)((function(){i===r.LOADED&&fetch("http://localhost:5000/api/lobby/classes",{method:"GET"}).then((function(e){return e.json()})).then((function(e){n(e.classes)})).catch((function(e){return console.error(e)}))}),[i]);return{classes:c,addClass:function(e){n((function(t){return[].concat(Object(U.a)(t),[e])}))}}},Fe=c.p+"static/media/logo2.7da65d47.svg",Pe=function(){var e=Object(Ne.a)({base:"4",sm:"1",md:"2",lg:"3",xl:"4","2xl":"5"}),t=Object(A.d)(),c=t.isOpen,r=t.onOpen,i=t.onClose,s=Ve(),a=s.classes,o=s.addClass;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.a,{h:"80px",w:"100%",bgColor:"black",children:Object(S.jsx)(f.a,{src:Fe,alt:"liveclass",h:"80px",pl:"8px"})}),Object(S.jsx)("br",{}),Object(S.jsx)(v.e,{size:"lg",pl:"30px",children:"Teaching Lectures"}),Object(S.jsx)(Re,{col:e,children:a.filter((function(e){return e.memberType===n.INSTRUCTOR})).map((function(e){var t=e.uuid,c=e.title,n=e.subtitle,r=e.memberType;return Object(S.jsx)(b.b,{to:"/class/".concat(t,"/").concat(r),children:Object(S.jsx)(te,{title:c,subTitle:n,color:"white",backgroundColor:"black"})},t)}))}),Object(S.jsx)("br",{}),Object(S.jsx)(v.e,{size:"lg",pl:"30px",children:"Listening Lectures"}),Object(S.jsx)(Re,{col:e,children:a.filter((function(e){return e.memberType===n.STUDENT})).map((function(e){var t=e.uuid,c=e.title,n=e.subtitle,r=e.memberType;return Object(S.jsx)(b.b,{to:"/class/".concat(t,"/").concat(r),children:Object(S.jsx)(te,{imgSrc:"a",title:c,subTitle:n,color:"white",backgroundColor:"black"})},t)}))}),Object(S.jsx)(x.b,{position:"fixed",right:"5%",bottom:"10%",size:"lg","aria-label":"Add Classroom",colorScheme:"green",icon:Object(S.jsx)(F.a,{}),onClick:r}),Object(S.jsx)(Ae,{onClose:i,isOpen:c,addClass:o})]})},Ge=c(134),Je=function(e){var t=e.onChangeLecturetitle;return Object(S.jsxs)(v.h,{spacing:"24px",children:[Object(S.jsx)(v.e,{size:"lg",pl:"30px",children:"Lecture Title"}),Object(S.jsx)(Ee.a,{pl:"30px",children:Object(S.jsx)(ze.a,{type:"text",placeholder:"Lecture Title",onChange:function(e){return t(e)},w:"500px",focusBorderColor:"black"})})]})},Be=function(e){var t=e.onChangeLectureNotice;return Object(S.jsxs)(v.h,{spacing:"24px",children:[Object(S.jsx)(v.e,{size:"md",pl:"30px",children:"Notice"}),Object(S.jsx)(Ee.a,{pl:"30px",children:Object(S.jsx)(Oe.a,{placeholder:"Description",onChange:function(e){return t(e)},focusBorderColor:"black",w:"500px"})})]})},Qe=c(148),qe=c.n(Qe),He=(c(236),function(e){var t=e.lectureDate,c=e.setLectureDate;return Object(S.jsxs)(v.h,{spacing:"24px",children:[Object(S.jsx)(v.e,{size:"md",pl:"30px",children:"Lecture Time"}),Object(S.jsx)(v.d,{pl:"30px",children:Object(S.jsx)(qe.a,{selected:t,onChange:function(e){return c(e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"yyyy.MM.dd h:mm aa"})})]})}),_e=function(e){var t=e.onChangeLecturePlaylist,c=e.Lecturelink,n=e.setLecturequizlist,r=[{id:1,link:"",title:"",quiztime:"",problem:"",answer:""}];return Object(S.jsxs)(v.h,{spacing:"24px",children:[Object(S.jsx)(v.e,{size:"md",pl:"30px",children:"Youtube playlist"}),Object(S.jsxs)(v.j,{size:"sm",pl:"30px",children:["Input Youtube playlist.",Object(S.jsx)("br",{}),"For https://www.youtube.com/playlist?list=PLFt2h1jjxKxwQAQr6Dv5kYP4Uu5cGX1iH",Object(S.jsx)("br",{}),"Just input PLFt2h1jjxKxwQAQr6Dv5kYP4Uu5cGX1iH"]}),Object(S.jsxs)(v.d,{spacing:"5px",pl:"30px",children:[Object(S.jsx)(ze.a,{placeholder:"Youtube Material link",onChange:function(e){return t(e)},focusBorderColor:"black",w:"500px"}),Object(S.jsx)(x.a,{colorScheme:"blue",w:100,onClick:function(){Le(c).then((function(e){e.items.forEach((function(e,t){var c={id:t,link:e.snippet.resourceId.videoId,title:e.snippet.title,quiztime:" ",problem:" ",answer:" ",mark:0};r.push(c)})),n(r)}))},children:"Add"}),Object(S.jsx)(x.a,{colorScheme:"red",w:100,onClick:function(){n([{id:1,link:" ",quiztime:" ",problem:" ",answer:" "}])},children:"Remove All"})]})]})},We=function(e){var t=e.id,c=e.isAddopen,n=e.onAddopen,r=e.onAddclose,i=e.onChangeLectureproblem,s=e.onChangeLectureanswer,a=e.onChangeLecturequiztime,o=e.Lectureproblem,l=e.Lectureanswer,u=e.Lecturequiztime,j=e.setQurrentnumber,d=e.Lecturequizlist,b=e.Qurrentnumber,O=e.setLecturequizlist;return Object(S.jsxs)(v.h,{children:[Object(S.jsx)(x.b,{id:t,"aria-label":"Add to friends",icon:Object(S.jsx)(F.a,{}),onClick:function(e){j(e.target.id),n()}}),Object(S.jsxs)(m.a,{isOpen:c,onClose:r,children:[Object(S.jsx)(m.g,{}),Object(S.jsxs)(m.d,{children:[Object(S.jsx)(m.f,{children:"Create Quiz"}),Object(S.jsx)(m.c,{}),Object(S.jsx)(m.b,{children:Object(S.jsxs)(v.h,{spacing:"20px",children:[Object(S.jsxs)(v.h,{children:[Object(S.jsx)(v.a,{children:"Problem Description"}),Object(S.jsx)(Oe.a,{placeholder:"Description",onChange:i,focusBorderColor:"black"})]}),Object(S.jsxs)(v.h,{children:[Object(S.jsx)(v.a,{children:"Answer"}),Object(S.jsx)(ze.a,{type:"text",placeholder:"Problem Answer",onChange:s,focusBorderColor:"black"})]}),Object(S.jsxs)(v.h,{children:[Object(S.jsx)(v.a,{children:"Quiz Open Time"}),Object(S.jsx)(Ee.b,{children:"If 07:34 please enter 0734"}),Object(S.jsx)(ze.a,{type:"text",placeholder:"Quiz pop up time",onChange:a,focusBorderColor:"black"})]})]})}),Object(S.jsx)(m.e,{children:Object(S.jsx)(x.a,{colorScheme:"blue",mr:3,onClick:function(){var e=Object(U.a)(d);e[b-1].quiztime=u,e[b-1].problem=o,e[b-1].answer=l,e[b-1].mark=1,O(e),r()},children:"Add"})})]})]})]})},Ye=function(){var e=Object(A.d)(),t=e.isOpen,c=e.onOpen,n=e.onClose,r=Object(o.useState)(new Date),i=Object(N.a)(r,2),s=i[0],a=i[1],l=Object(o.useState)(""),u=Object(N.a)(l,2),j=u[0],d=u[1],b=Object(o.useState)(""),h=Object(N.a)(b,2),f=(h[0],h[1]),m=Object(o.useState)(""),p=Object(N.a)(m,2),g=p[0],C=p[1],w=Object(o.useState)(""),I=Object(N.a)(w,2),k=I[0],y=I[1],T=Object(o.useState)(""),E=Object(N.a)(T,2),z=E[0],M=E[1],D=Object(o.useState)(""),V=Object(N.a)(D,2),P=V[0],G=V[1],J=Object(o.useState)(""),B=Object(N.a)(J,2),Q=B[0],q=B[1],H=Object(o.useState)([{id:0,playlist:g,link:"Lecture Link",title:"Video Title",quiztime:"Lecture Quiz Time",problem:"Lecture Problem",answer:"Lecture Answer",mark:0}]),_=Object(N.a)(H,2),W=_[0],Y=(_[1],Object(o.useState)([{id:1,playlist:g,link:" ",title:" ",quiztime:" ",problem:" ",answer:" ",mark:0}])),K=Object(N.a)(Y,2),X=K[0],Z=K[1],$=L(),ee=$.socket,te=($.connected,Object(O.g)().classUuid),ce=Object(O.f)(),ne=Object(R.a)(),re=function(e){M(e.target.value)},ie=function(e){G(e.target.value)},se=function(e){y(e.target.value)},ae=function(e){oe(e.target.id)},oe=function(e){var t=Object(U.a)(X);t[e-1].quiztime=" ",t[e-1].problem=" ",t[e-1].answer=" ",t[e-1].mark=0,Z(t)},le=X.map((function(e){return Object(S.jsx)(Ge.a,{variant:"simple",size:"sm",children:Object(S.jsx)(Ge.b,{children:Object(S.jsxs)(Ge.e,{align:"left",children:[Object(S.jsx)(Ge.c,{align:"left",width:"5%",children:e.id}),Object(S.jsx)(Ge.c,{align:"left",width:"15%",children:e.title}),Object(S.jsx)(Ge.c,{align:"left",width:"10%",children:e.quiztime}),Object(S.jsx)(Ge.c,{align:"left",width:"15%",children:e.problem}),Object(S.jsx)(Ge.c,{align:"left",width:"5%",children:e.answer}),Object(S.jsx)(Ge.c,{align:"center",width:"5%",children:Object(S.jsx)(We,{id:e.id,isAddopen:t,onAddopen:c,onAddclose:n,onChangeLectureproblem:re,onChangeLectureanswer:ie,onChangeLecturequiztime:se,Lectureproblem:z,Lectureanswer:P,Lecturequiztime:k,setQurrentnumber:q,Lecturequizlist:X,Qurrentnumber:Q,setLecturequizlist:Z})}),Object(S.jsx)(Ge.c,{align:"center",width:"5%",children:Object(S.jsx)(x.b,{id:e.id,"aria-label":"Add to friends",icon:Object(S.jsx)(F.g,{}),onClick:ae})})]})})})})),ue=W.map((function(e){return Object(S.jsx)(Ge.a,{variant:"simple",children:Object(S.jsx)(Ge.d,{children:Object(S.jsxs)(Ge.e,{align:"left",children:[Object(S.jsx)(Ge.c,{align:"left",width:"5%",children:e.id}),Object(S.jsx)(Ge.c,{align:"left",width:"15%",children:e.title}),Object(S.jsx)(Ge.c,{align:"left",width:"10%",children:e.quiztime}),Object(S.jsx)(Ge.c,{align:"left",width:"15%",children:e.problem}),Object(S.jsx)(Ge.c,{align:"left",width:"5%",children:e.answer}),Object(S.jsx)(Ge.c,{align:"center",width:"5%",children:"Add"}),Object(S.jsx)(Ge.c,{align:"center",width:"5%",children:"Remove"})]})})})}));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(v.h,{spacing:"24px",children:[Object(S.jsx)(v.b,{bg:"black",h:"100px",color:"white",fontSize:"2xl",children:"Create Lecture"}),Object(S.jsx)(Je,{onChangeLecturetitle:function(e){d(e.target.value)}}),Object(S.jsx)(Be,{onChangeLectureNotice:function(e){f(e.target.value)}}),Object(S.jsx)(He,{lectureDate:s,setLectureDate:a}),Object(S.jsx)(_e,{Lecturequizlist:X,onChangeLecturePlaylist:function(e){C(e.target.value)},Lecturelink:g,setLecturequizlist:Z}),Object(S.jsx)(v.e,{size:"md",pl:"30px",children:"Quiz List"}),Object(S.jsx)("ol",{children:ue}),Object(S.jsx)("ol",{children:le})]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(v.c,{children:[Object(S.jsx)(v.g,{}),Object(S.jsx)(x.a,{leftIcon:Object(S.jsx)(F.d,{}),colorScheme:"blue",mr:3,w:150,h:50,onClick:function(){var e=JSON.stringify({classUuid:te,lectureDate:s,lectureName:j,playlist:g});null===ee||void 0===ee||ee.emit("CreateLecture",e),ce(-1),ne({title:"New lecture created",status:"success",duration:1500,isClosable:!0})},children:"Create Lecture"}),Object(S.jsx)(x.a,{leftIcon:Object(S.jsx)(F.e,{}),colorScheme:"red",mr:50,w:150,h:50,onClick:function(){return ce(-1)},children:"Cancel"})]}),Object(S.jsx)("br",{})]})},Ke=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(D,{url:"http://localhost:5000/",children:[Object(S.jsx)(k,{}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(O.c,{children:[Object(S.jsx)(O.a,{path:"/",element:Object(S.jsx)(Pe,{})}),Object(S.jsx)(O.a,{path:"class/:classUuid/:memberType",element:Object(S.jsx)(ce,{})}),Object(S.jsx)(O.a,{path:"class/:classUuid/:memberType/createLecture",element:Object(S.jsx)(Ye,{})}),Object(S.jsx)(O.a,{path:"class/:classUuid/:memberType/:lectureId",element:Object(S.jsx)(Te,{})})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,290)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),i(e),s(e)}))},Ze=function(e){var t=e.children,c=Object(o.useState)(""),n=Object(N.a)(c,2),i=n[0],s=n[1],a=Object(o.useState)(r.LOADING),l=Object(N.a)(a,2),u=l[0],j=l[1],d=Object(o.useState)(-1),b=Object(N.a)(d,2),O=b[0],h=b[1];return Object(o.useEffect)((function(){u===r.LOADING&&fetch("http://localhost:5000/api/me",{method:"GET"}).then((function(e){return e.json()})).then((function(e){401===e.status?j(r.NOTLOADED):200===e.status&&(console.log("Logged IN"),s(e.userName),h(e.id),j(r.LOADED))})).catch((function(e){return console.error(e)}))}),[]),Object(S.jsx)(C.Provider,{value:{userName:i,status:u,id:O},children:t})},$e=function(e){var t=e.children,c=Object(o.useState)(0),n=Object(N.a)(c,2),r=n[0],i=n[1],s=Object(o.useState)(!1),a=Object(N.a)(s,2),l=a[0],u=a[1];return Object(S.jsx)(J.Provider,{value:{isLive:l,setIsLive:u,selectedVidIdx:r,setSelectedVidIdx:i},children:t})},et=function(e){var t=e.children,c=Object(o.useState)(s.KO),n=Object(N.a)(c,2),r=n[0],i=n[1];return Object(S.jsx)(q.Provider,{value:{language:r,setLanguage:i},children:t})};j.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(d.a,{children:Object(S.jsx)(Ze,{children:Object(S.jsx)($e,{children:Object(S.jsx)(et,{children:Object(S.jsx)(Ke,{})})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Xe()}},[[279,1,2]]]);
//# sourceMappingURL=main.baaac1fd.chunk.js.map