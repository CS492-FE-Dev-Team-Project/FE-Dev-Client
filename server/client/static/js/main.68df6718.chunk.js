(this["webpackJsonpfe-dev-client"]=this["webpackJsonpfe-dev-client"]||[]).push([[0],{186:function(e,t,c){},202:function(e,t,c){},234:function(e,t,c){},291:function(e,t,c){"use strict";c.r(t);var n,r,i,s,a,o,l=c(0),u=c.n(l),d=c(35),j=c.n(d),b=c(17),O=(c(186),c(42)),h=c(14),x=c(56),f=c(125),p=c(127),m=c(142),g=c(93),v=c(128),C=c.p+"static/media/naver_login_eng.69b5671c.png";!function(e){e.INSTRUCTOR="instructor",e.STUDENT="student"}(n||(n={})),function(e){e[e.LOADED=0]="LOADED",e[e.LOADING=1]="LOADING",e[e.NOTLOADED=2]="NOTLOADED"}(r||(r={})),function(e){e.QUESTION="Question",e.DISCUSSION="Discussion"}(i||(i={})),function(e){e[e.EN=0]="EN",e[e.KO=1]="KO"}(s||(s={})),function(e){e.USER="user",e.VIDEO="video",e.NOTICE="notice"}(a||(a={})),function(e){e[e.Lecture=0]="Lecture",e[e.Class=1]="Class"}(o||(o={}));var w=Object(l.createContext)({userName:"",status:r.LOADED,id:-1}),S=c.p+"static/media/logo1.23d60d6d.svg",k=c(1),I=function(e){var t=Object.assign({},e);return Object(k.jsx)(f.a,Object(x.a)(Object(x.a)({w:460,h:100,colorScheme:"white"},t),{},{children:Object(k.jsx)(p.a,{src:C,fit:"fill"})}))},y=function(){var e=Object(l.useContext)(w).status;return Object(k.jsxs)(m.a,{size:"xl",isOpen:e!==r.LOADED,onClose:function(){console.log()},children:[Object(k.jsx)(m.g,{}),e===r.LOADING?Object(k.jsx)(g.a,{}):Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.f,{children:Object(k.jsxs)(v.l,{w:"100%",children:[Object(k.jsxs)(v.d,{w:"100%",h:"60px",children:[Object(k.jsx)(v.h,{}),Object(k.jsx)(p.a,{src:S,alt:"liveclass",h:"60px"}),Object(k.jsx)(v.h,{})]}),Object(k.jsx)(v.b,{w:"100%",textAlign:"center",fontSize:"50px",fontWeight:"bold",children:"LOG IN"})]})}),Object(k.jsx)(m.b,{children:Object(k.jsx)(v.d,{children:Object(k.jsxs)(v.b,{w:"100%",display:"flex",children:[Object(k.jsx)(v.h,{}),Object(k.jsx)(I,{onClick:function(){window.location.pathname="/api/auth/naver"}}),Object(k.jsx)(v.h,{})]})})})]})]})},L=Object(l.createContext)({getSocket:function(){return null},getConnected:function(){return!1},getError:function(){},subscribeEvent:function(){},getEventMsg:function(){return""}}),T=function(){var e=Object(l.useContext)(L),t=e.getSocket,c=e.getConnected,n=e.getError;return{socket:t(),connected:c(),error:n()}},N=c(96),E=c(11),z=c(156);function M(e){var t=e.url,c=e.children,n=e.options,r=e.debug,i=void 0===r||r,s=Object(l.useState)(null),a=Object(E.a)(s,2),o=a[0],u=a[1],d=Object(l.useState)(!1),j=Object(E.a)(d,2),b=j[0],O=j[1],h=Object(l.useState)(null),f=Object(E.a)(h,2),p=f[0],m=f[1],g=Object(l.useState)({}),v=Object(E.a)(g,2),C=v[0],w=v[1];Object(l.useEffect)((function(){var e=Object(z.a)(t,n);return u(e),e.on("connect",(function(){O(!0)})),e.on("disconnect",(function(){e.removeAllListeners(),O(!1)})),e.on("error",(function(e){m(e)})),i&&e.onAny((function(e){for(var t=arguments.length,c=new Array(t>1?t-1:0),n=1;n<t;n++)c[n-1]=arguments[n];console.log(e,c)})),function(){u(null),e.disconnect()}}),[t,n]);return Object(k.jsx)(L.Provider,{value:{getSocket:function(){return o},getConnected:function(){return b},getError:function(){return p},subscribeEvent:function(e){null===o||void 0===o||o.on(e,(function(t){!function(e,t){w(Object(x.a)(Object(x.a)({},C),{},Object(N.a)({},e,t)))}(e,t)}))},getEventMsg:function(e){return C[e]}},children:c})}M.defaultProps={options:null};var D=M,U=c(24),A=c(18),R=c(143),P=c(9),F=c(25),V=c(129),G=c(69),J=Object(l.createContext)({isLive:!1,setIsLive:function(){return null},selectedVidIdx:0,setSelectedVidIdx:function(){return null}}),B=function(e){var t=e.entry,c=Object(h.g)(),r=(c.classUuid,c.memberType),i=(c.lectureId,Object(l.useContext)(J)),s=i.isLive,o=i.selectedVidIdx,u=i.setSelectedVidIdx,d=!1;t.type===a.VIDEO&&(d=t.videoIdx===o);return Object(k.jsx)(v.b,{as:"button",height:"30px",lineHeight:"1.1",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",border:"1px",px:"8px",borderRadius:"2px",fontSize:"20px",textAlign:"start",bg:"white",borderColor:d?"#FF4A3E":"white",color:"black",_hover:{bg:"#ebedf0"},_active:{bg:"#dddfe2",transform:"scale(0.98)",borderColor:"#bec3c9"},_focus:{boxShadow:"0 0 1px 2px rgba(88, 144, 255, .75), 0 1px 1px rgba(0, 0, 0, .15)"},onClick:function(){switch(t.type){case a.USER:alert(t.userId);break;case a.VIDEO:if(r===n.STUDENT&&s)return;u(t.videoIdx),r===n.INSTRUCTOR&&s&&t.onClickHandler();break;case a.NOTICE:t.onClickHandler?t.onClickHandler():alert(t.message)}},overflow:"scroll",whiteSpace:"nowrap",style:{scrollbarWidth:"none"},children:t.tabName})},Q=function(e){var t=e.tabTitle,c=e.tabContents;return Object(k.jsx)(v.b,{w:"175px",children:Object(k.jsxs)(v.i,{spacing:0,children:[Object(k.jsx)(v.b,{letterSpacing:"wide",justifyContent:"flex-start",fontWeight:"bold",fontSize:"18px",ml:"2",mt:"2",children:t}),Object(k.jsx)(v.b,{w:"100%",h:"3px"}),c.map((function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(B,{entry:e}),Object(k.jsx)(v.b,{w:"100%",h:"3px"})]})}))]})})},q=Object(l.createContext)({language:s.KO,setLanguage:function(){return null}}),H=Object(P.b)({displayName:"GlobeIcon",path:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(k.jsx)("path",{d:"M24 24h-2.784l-1.07-3h-4.875l-1.077 3h-2.697l4.941-13h2.604l4.958 13zm-4.573-5.069l-1.705-4.903-1.712 4.903h3.417zm-9.252-12.804c.126-.486.201-.852.271-1.212l-2.199-.428c-.036.185-.102.533-.22 1-.742-.109-1.532-.122-2.332-.041.019-.537.052-1.063.098-1.569h2.456v-2.083h-2.161c.106-.531.198-.849.288-1.149l-2.147-.645c-.158.526-.29 1.042-.422 1.794h-2.451v2.083h2.184c-.058.673-.093 1.371-.103 2.077-2.413.886-3.437 2.575-3.437 4.107 0 1.809 1.427 3.399 3.684 3.194 2.802-.255 4.673-2.371 5.77-4.974 1.134.654 1.608 1.753 1.181 2.771-.396.941-1.561 1.838-3.785 1.792v2.242c2.469.038 4.898-.899 5.85-3.166.93-2.214-.132-4.635-2.525-5.793zm-2.892 1.531c-.349.774-.809 1.544-1.395 2.15-.09-.646-.151-1.353-.184-2.108.533-.07 1.072-.083 1.579-.042zm-3.788.724c.062.947.169 1.818.317 2.596-1.996.365-2.076-1.603-.317-2.596zm11.236-1.745l-2.075-5.533 5.414-1.104-.976 1.868c2.999 2.418 4.116 5.645 4.532 8.132-1.736-2.913-3.826-4.478-5.885-5.321l-1.01 1.958zm-7.895 10.781l1.985 5.566-5.43 1.016 1.006-1.852c-2.96-2.465-4.021-5.654-4.397-8.148 1.689 2.94 3.749 4.483 5.794 5.36l1.042-1.942zm10.795-6.029"})})}),W=function(e){var t=e.menus,c=e.memuContext,n=Object(l.useContext)(q),r=(n.language,n.setLanguage),i=T().socket,a=Object(h.g)(),u=a.classUuid,d=a.lectureId,j=Object(h.f)();return Object(k.jsxs)(v.d,{w:"190px",h:"100vh",flexDir:"column",children:[Object(k.jsx)(v.d,{overflowX:"hidden",overflowY:"auto",flexDir:"column",children:Object(k.jsx)(v.b,{ml:"2",children:Object(k.jsx)(v.l,{divider:Object(k.jsx)(v.j,{borderColor:"gray.200"}),spacing:0,w:"190px",align:"stretch",children:t.map((function(e){return Object(k.jsx)(Q,{tabTitle:e.tabTitle,tabContents:e.tabContents})}))})})}),Object(k.jsx)(v.h,{}),Object(k.jsx)(v.d,{p:"10px 10px",w:"full",backgroundColor:"white",flexDir:"column",children:Object(k.jsxs)(v.b,{bottom:0,children:[Object(k.jsxs)(V.a,{children:[Object(k.jsx)(V.f,{children:Object(k.jsx)(f.b,{size:"md",colorScheme:"red",icon:Object(k.jsx)(F.e,{}),"aria-label":"Quit",m:.5})}),Object(k.jsxs)(V.e,{w:180,children:[Object(k.jsx)(V.b,{}),Object(k.jsx)(V.c,{children:Object(k.jsx)(f.a,{colorScheme:"red",w:150,onClick:function(){j(-1),c===o.Lecture&&(null===i||void 0===i||i.emit("ExitLecture",{classUuid:u,lectureId:parseInt(d,10)}))},children:"Quit room"})})]})]}),Object(k.jsx)(f.b,{size:"md",icon:Object(k.jsx)(F.h,{}),"aria-label":"Settings",m:.5}),Object(k.jsx)(V.a,{placement:"top-start",children:function(e){var t=e.onClose;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(V.f,{children:Object(k.jsx)(f.b,{size:"sm",icon:Object(k.jsx)(H,{}),"aria-label":"Settings",m:.5})}),Object(k.jsx)(G.a,{children:Object(k.jsx)(V.e,{w:"165px",h:"60px",children:Object(k.jsxs)(V.c,{children:[Object(k.jsx)(f.a,{colorScheme:"green",marginRight:"2px",onClick:function(){r(s.EN),t()},children:"EN"}),Object(k.jsx)(f.a,{colorScheme:"blue",onClick:function(){r(s.KO),t()},children:"\ud55c\uae00"}),Object(k.jsx)(V.d,{})]})})})]})}})]})})]})},_=[{tabName:"Notice",type:a.NOTICE,message:"Notice message"},{tabName:"Materials",type:a.NOTICE,message:"Materials message"}],Y=function(){var e=T().connected;return Object(k.jsx)(v.d,{position:"fixed",left:5,bottom:10,zIndex:3,w:"300px",h:"200px",backgroundColor:"gray.300",justifyContent:"center",alignContent:"center",borderRadius:"30px",opacity:"0.8",color:e?"blue.500":"red.500",children:Object(k.jsx)(v.k,{height:"fit-content",fontSize:"2xl",children:"Connected: ".concat(e?"True":"False")})})},K=Object(P.b)({displayName:"flagIcon",path:Object(k.jsx)("svg",{className:"flagIcon",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 206.505 206.505",xmlSpace:"preserve",children:Object(k.jsx)("g",{children:Object(k.jsx)("path",{d:"M167.069,16.354c-0.426,0.186-43.29,18.671-70.274-4.481c-31.021-26.619-60.722-0.2-61.012,0.072 L34.623,13l-0.179,193.494l7.108,0.011l0.115-122.594c5.157-4.091,27.11-19.086,50.498,0.988 c30.356,26.047,75.839,6.438,77.765,5.59l2.133-0.938V14.153L167.069,16.354z M164.943,84.824 c-8.997,3.389-44.603,14.874-68.148-5.322c-10.375-8.904-20.6-11.871-29.629-11.871c-10.815,0-19.923,4.266-25.489,7.702 l0.047-59.101c5.264-4.169,27.142-18.961,50.44,1.034c24.855,21.323,59.863,12.043,72.78,7.516V84.824z"})})})}),X=function(e){var t=e.children,c=e.onClick;return Object(k.jsx)(f.a,{className:"ClipboardButton",leftIcon:Object(k.jsx)(F.f,{}),"aria-label":"Settings",m:.5,onClick:c,children:t})},Z=function(e){var t=e.onClick;return Object(k.jsxs)(v.b,{className:"create-timeline-marker",children:[Object(k.jsx)(f.a,{colorScheme:"red",leftIcon:Object(k.jsx)(K,{}),marginRight:"2px",onClick:function(){return t(i.QUESTION)},children:"Question"}),Object(k.jsx)(f.a,{colorScheme:"blue",leftIcon:Object(k.jsx)(K,{}),onClick:function(){return t(i.DISCUSSION)},children:"Discussion"})]})},$=c(309),ee=c(307),te=c(308),ce=c(303),ne=c(304),re=c(305),ie=c(306),se=(c(198),c(199),c(200),c(201),c(202),c(83)),ae=c(5),oe=c(122),le=c.n(oe),ue=c(148),de=c(149),je=c.n(de);c(150).config();var be=function(){var e=Object(ue.a)(le.a.mark((function e(t){var c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.get("https://www.googleapis.com/youtube/v3/playlistItems",{params:{part:"id,snippet",maxResults:10,playlistId:t,key:"AIzaSyCHVChOn1oiqENXEWez1FijV9bvlPs-XzI"}});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=Object(ae.c)({sm:"320px",md:"768px",lg:"960px",xl:"1200px","2xl":"1536px"}),he=(Object(b.b)({breakpoints:Oe}),function(e){var t=e.lectureNum,c=e.youtubePlayList,n=e.isLive,r=e.date,i=e.to,s=e.key,a=Object(l.useState)(""),o=Object(E.a)(a,2),u=o[0],d=o[1];return Object(l.useEffect)((function(){be(c).then((function(e){d(e.items[0].snippet.thumbnails.standard.url)}))}),[]),Object(k.jsx)(v.b,{w:"100%",h:"60vh",rounded:"md",boxShadow:"md",bgColor:n?"red.200":"white",borderColor:n?"red":"black",overflow:"hidden",children:Object(k.jsxs)(v.d,{h:"100%",flexDirection:"column",children:[Object(k.jsx)(v.a,{ratio:16/9,children:Object(k.jsx)(p.a,{src:u,fit:"cover",h:"40%"})}),Object(k.jsxs)(v.d,{h:"100%",flexDirection:"column",textAlign:"center",p:6,color:Object(se.d)("gray.800","white"),align:"center",children:[n?Object(k.jsx)(v.k,{fontSize:"lg",fontWeight:"bold",bg:"red.100",p:2,px:3,color:"red",rounded:"full",children:"Live"}):Object(k.jsx)(v.k,{fontSize:"lg",fontWeight:"bold",bg:"green.100",p:2,px:3,color:"green.500",rounded:"full",children:"".concat(r)}),Object(k.jsx)(v.h,{}),Object(k.jsx)(v.b,{children:Object(k.jsx)(v.f,{color:Object(se.d)("gray.700","white"),fontSize:{base:"12px",md:"20px",lg:"26px",xl:"30px","2xl":"42px"},fontFamily:"body",children:"Lecture ".concat(t)})}),Object(k.jsx)(v.h,{}),Object(k.jsx)(O.b,{to:i,children:Object(k.jsx)(f.a,{w:"100%",h:"40px",bg:"green.400",color:"white",fontSize:"15px",rounded:"xl",boxShadow:"0 5px 20px 0px rgb(72 187 120 / 43%)",_hover:{bg:"green.500"},_focus:{bg:"green.500"},children:"Go To Lecture"})},s),Object(k.jsx)(v.b,{h:"30px"})]})]})})});te.a.use([ce.a,ne.a,re.a,ie.a]);var xe,fe=function(e){var t=e.classUuid,c=e.memberType,n=e.lectureList;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)($.a,{centeredSlides:!0,className:"swiper-container",spaceBetween:50,slidesPerView:4,navigation:!0,pagination:{clickable:!0,renderBullet:function(e,t){return'<span class="'.concat(t,'">').concat(e+1,"</span>")}},children:n.map((function(e){var n=e.id,r=e.lectureDate,i=(e.lectureName,e.LiveStatus),s=e.playlist;return Object(k.jsx)(ee.a,{children:Object(k.jsx)(he,{lectureNum:n,youtubePlayList:s,date:r.slice(0,10),to:"/class/".concat(t,"/").concat(c,"/").concat(n),isLive:i},n)})}))})})},pe=function(){var e=Object(h.g)(),t=e.classUuid,c=e.memberType,n=T(),r=n.socket,i=n.connected,s=Object(l.useState)([]),u=Object(E.a)(s,2),d=u[0],j=u[1],b=Object(A.c)(t),x=(b.hasCopied,b.onCopy),p=Object(R.a)(),m={tabTitle:"Classroom",tabContents:_},g=Object(l.useState)([]),C=Object(E.a)(g,2),w=C[0],S=C[1],I={tabTitle:"Classmates",tabContents:w};Object(l.useEffect)((function(){var e=JSON.stringify({classUuid:t});null===r||void 0===r||r.on("JoinClass",(function(){null===r||void 0===r||r.emit("GetClassMembers",e),null===r||void 0===r||r.emit("GetLectures",e)})),null===r||void 0===r||r.emit("JoinClass",e),null===r||void 0===r||r.on("CreateLecture",(function(e){var t=e.lecture;200===e.status&&j((function(e){return[].concat(Object(U.a)(e),[t])}))})),null===r||void 0===r||r.on("GetClassMembers",(function(e){var t=e.members;if(200===e.status){var c=t.map((function(e){return{tabName:e.userName,type:a.USER,userId:e.id}}));S(c)}})),null===r||void 0===r||r.on("GetLectures",(function(e){var t=e.lectures;200===e.status&&j(t)}))}),[i]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Y,{}),Object(k.jsxs)(v.d,{children:[Object(k.jsx)(W,{menus:[m,I],memuContext:o.Class}),Object(k.jsx)(v.b,{w:"8px",h:"100vh"}),Object(k.jsxs)(v.b,{w:"100%",h:"100vh",bgColor:"gray.100",children:[Object(k.jsx)(fe,{classUuid:t,memberType:c,lectureList:d}),"instructor"===c&&Object(k.jsx)(O.b,{to:"/class/".concat(t,"/").concat(c,"/createLecture"),children:Object(k.jsx)(f.a,{children:"Create new lecture"})}),Object(k.jsx)(X,{onClick:function(){x(),p({title:"ClassId copied to your clipboard!",status:"success",duration:1500,isClosable:!0})},children:"Copy Class Id"})]})]})]})},me=c(151),ge=(c(234),c(138)),ve=function(e){var t=e.color;return Object(k.jsxs)("svg",{width:"26",height:"42",viewBox:"0 0 26 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(k.jsx)("path",{id:"FlagSVGStroke",d:"M0.25 41.75V1.35983C0.478428 0.930839 0.673497 0.640584 0.845353 0.461995C1.02353 0.276835 1.14455 0.243676 1.22836 0.250958C1.32482 0.259338 1.46095 0.327377 1.65137 0.532983C1.82818 0.723902 2.02343 1.00219 2.25 1.36856V41.75H0.25Z",fill:t,stroke:"black",strokeWidth:"0.5"}),Object(k.jsx)("path",{id:"FlagSVGStroke",d:"M0.25 20.8038V3.86704C5.79233 6.03311 9.95189 6.92656 13.8517 6.82338C17.6706 6.72233 21.2189 5.66585 25.5464 3.95051C24.221 7.25607 23.5865 9.87565 23.6068 12.4474C23.6276 15.0852 24.3371 17.6498 25.6573 20.8285C20.9883 21.9986 17.2644 22.6277 13.4138 22.6521C9.53251 22.6767 5.51003 22.087 0.25 20.8038Z",fill:t,stroke:"black",strokeWidth:"0.5"})]})},Ce=function(e){var t=e.id,c=e.time,n=e.markerType,r=(e.videoIndex,T().socket);return Object(k.jsx)("button",{className:"timeline-marker",style:{left:"".concat(c,"%")},type:"button","aria-label":"timeline",onClick:function(){return function(){var e=JSON.stringify({markerId:t,markerType:n});null===r||void 0===r||r.emit("TimeMarkerClicked",e)}()},children:Object(k.jsx)(ve,{color:function(e){switch(e){case i.DISCUSSION:return"blue";case i.QUESTION:return"red";default:throw new Error("Invalid MarkerType")}}(n)})})};!function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED"}(xe||(xe={}));var we,Se=function(e){var t,c,r,i=e.memberType,s=e.classUuid,a=e.lectureId,o=e.videoId,u=e.videoIndex,d=e.width,j=void 0===d?"100%":d,b=e.height,O=void 0===b?"100%":b,h=e.isControled,x=T(),f=x.socket,p=x.connected,m=Object(l.useState)(null),g=Object(E.a)(m,2),v=g[0],C=g[1],w=Object(l.useState)(0),S=Object(E.a)(w,2),I=S[0],y=S[1],L=Object(l.useRef)(0),N=Object(l.useRef)(null),z=Object(l.useRef)(null),M=Object(l.useRef)(null),D=Object(l.useState)([]),A=Object(E.a)(D,2),R=A[0],P=A[1];"NULL"===o?function(){var e;null===(e=z.current)||void 0===e||e.classList.add("coverVideo")}():function(){var e;null===(e=z.current)||void 0===e||e.classList.remove("coverVideo")}();Object(l.useEffect)((function(){return p&&v&&(h&&(null===f||void 0===f||f.on("InstructorTimeChange",(function(e){null===v||void 0===v||v.seekTo(e)})),null===f||void 0===f||f.on("InstructorPlay",(function(){null===v||void 0===v||v.playVideo()})),null===f||void 0===f||f.on("InstructorPause",(function(){null===v||void 0===v||v.pauseVideo()}))),null===f||void 0===f||f.on("GetMarkers",(function(e){var t=e.markers;200===e.status&&P(t)})),null===f||void 0===f||f.emit("GetMarkers",{classUuid:s,lectureId:a,videoIndex:u})),null===f||void 0===f||f.on("CreateMarker",(function(e){var t=e.marker;200===e.status&&P((function(e){return[].concat(Object(U.a)(e),[t])}))})),function(){clearInterval(N.current),null===f||void 0===f||f.off("InstructorTimeChange"),null===f||void 0===f||f.off("InstructorPlay"),null===f||void 0===f||f.off("InstructorPause"),null===f||void 0===f||f.off("GetMarkers"),null===f||void 0===f||f.off("CreateMarker")}}),[p,v,u]),h?null===(t=z.current)||void 0===t||t.classList.add("live"):null===(c=z.current)||void 0===c||c.classList.remove("live");var F={height:O.toString(),width:j.toString(),playerVars:{autoplay:0,controls:h?0:1,disablekb:h?1:0,rel:0}},V={backgroundImage:"url(".concat("https://previews.123rf.com/images/sevenozz/sevenozz1812/sevenozz181200056/127054720-vintage-tv-test-screen-please-stand-by-television-calibration-pattern.jpg",")"),backgroundSize:"100% 100%"};return null===(r=M.current)||void 0===r||r.classList.add("showTimeline"),Object(k.jsxs)("div",{className:i===n.INSTRUCTOR?"teacher":"student",id:"youtube-wrapper",ref:z,style:{width:j,height:O},children:[Object(k.jsx)(Z,{onClick:function(e){var t=v.getCurrentTime();t=t>L.current?L.current-5:t;var c={classUuid:s,lectureId:a,marker:{markerType:e,time:t/L.current*100,videoIndex:u}};null===f||void 0===f||f.emit("CreateMarker",JSON.stringify(c))}}),Object(k.jsxs)("div",{className:"video-timeline-components",ref:M,children:[R.map((function(e){var t=e.id,c=e.markerType,n=e.time;return 0===L.current?Object(k.jsx)("div",{}):Object(k.jsx)(Ce,{id:t,time:n,markerType:c,videoIndex:u})})),h?Object(k.jsx)(ge.a,{colorScheme:"red",position:"absolute",bottom:"35px",height:"5px",width:"100%",value:L.current?I/L.current*100:0}):Object(k.jsx)("div",{})]}),Object(k.jsx)("div",{className:"video-cover",style:V}),Object(k.jsx)("div",{className:"video-container",children:Object(k.jsx)(me.a,{className:"video",videoId:o,opts:F,onReady:function(e){C(e.target)},onPlay:function(e){v&&(L.current=v.playerInfo.duration),N.current=setInterval((function(){y(v.getCurrentTime())}),100)},onPause:function(e){clearInterval(N.current)},onStateChange:function(e){if(!h){var t=e.target,c=JSON.stringify({classUuid:s,lectureId:a,newtime:t.getCurrentTime()});e.data===xe.BUFFERING?null===f||void 0===f||f.emit("InstructorTimeChange",c):e.data===xe.PLAYING?(null===f||void 0===f||f.emit("InstructorTimeChange",c),null===f||void 0===f||f.emit("InstructorPlay",c)):e.data===xe.PAUSED&&(null===f||void 0===f||f.emit("InstructorPause",c))}}})})]})},ke=c(58),Ie=function(e){var t=e.message,c=e.backgroundColor,n=e.color;return Object(k.jsx)(v.b,{maxWidth:"200px",backgroundColor:c,color:n,marginBottom:"auto",borderRadius:"7px",fontSize:"14px",p:"5px 7px",children:t})},ye=function(e){var t=e.time;return Object(k.jsx)(v.b,{fontSize:5,marginTop:"auto",p:1,color:"black",children:t})},Le=function(e){var t=e.userName;return Object(k.jsx)(v.b,{width:"fit-content",mt:0,mb:.5,fontSize:"14px",p:"2px 5px",textAlign:"start",children:t})},Te=function(e){var t=e.userName,c=e.message,n=e.time,r=e.isMy;return Object(k.jsxs)(v.b,{width:"full",p:"4px 8px 0px",m:0,children:[!r&&Object(k.jsx)(Le,{userName:t}),Object(k.jsx)(v.d,{display:"flex",justifyContent:r?"right":"left",alignContent:"center",m:0,children:r?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ye,{time:n}),Object(k.jsx)(Ie,{message:c,backgroundColor:"blue.500",color:"gray.50"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ie,{message:c,backgroundColor:"gray.100",color:"black"}),Object(k.jsx)(ye,{time:n})]})})]})},Ne=c(139),Ee=(Object(P.b)({displayName:"RecordIcon",path:Object(k.jsxs)("svg",{children:[Object(k.jsx)("g",{id:"Livello_7",children:Object(k.jsx)("path",{d:"M91.192,59.623V21.946c0.043-0.534,0.068-1.073,0.068-1.618C91.262,9.102,82.161,0,70.935,0   c-11.229,0-20.33,9.104-20.33,20.328c0,0.545,0.024,1.084,0.066,1.618v37.677c-0.042,0.535-0.066,1.073-0.066,1.621   c0,11.229,9.103,20.326,20.329,20.326c11.227,0,20.327-9.1,20.327-20.326C91.262,60.696,91.235,60.158,91.192,59.623    M120.942,50.219c0-3.084-2.5-5.584-5.584-5.584c-3.082,0-5.582,2.5-5.582,5.584c0,0.047,0.004,0.092,0.008,0.139   c-0.076,21.43-17.471,38.779-38.917,38.779c-21.448,0-38.842-17.353-38.917-38.779c0.002-0.047,0.008-0.092,0.008-0.139   c0-3.084-2.5-5.584-5.584-5.584s-5.585,2.5-5.585,5.584c0,25.714,19.388,46.896,44.339,49.743v28.648H38.78   c-2.96,0-5.358,2.402-5.358,5.361c0,2.961,2.398,5.355,5.358,5.355h26.35h11.61h26.35c2.959,0,5.357-2.396,5.357-5.355   c0-2.959-2.398-5.361-5.357-5.361h-26.35V99.945C101.628,97.039,120.942,75.885,120.942,50.219"})}),Object(k.jsx)("g",{id:"Livello_1_1_"})]})}),Object(P.b)({displayName:"flagIcon",path:Object(k.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 206.505 206.505",xmlSpace:"preserve",children:Object(k.jsx)("g",{children:Object(k.jsx)("path",{d:"M167.069,16.354c-0.426,0.186-43.29,18.671-70.274-4.481c-31.021-26.619-60.722-0.2-61.012,0.072 L34.623,13l-0.179,193.494l7.108,0.011l0.115-122.594c5.157-4.091,27.11-19.086,50.498,0.988 c30.356,26.047,75.839,6.438,77.765,5.59l2.133-0.938V14.153L167.069,16.354z M164.943,84.824 c-8.997,3.389-44.603,14.874-68.148-5.322c-10.375-8.904-20.6-11.871-29.629-11.871c-10.815,0-19.923,4.266-25.489,7.702 l0.047-59.101c5.264-4.169,27.142-18.961,50.44,1.034c24.855,21.323,59.863,12.043,72.78,7.516V84.824z"})})})}),function(e){return Object(k.jsx)(P.a,Object(x.a)(Object(x.a)({viewBox:"0 0 200 200"},e),{},{children:Object(k.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}))}),ze=function(){var e=Object(h.g)(),t=e.classUuid,c=e.lectureId;if(!t)throw new Error("No ClassUuid");if(!c)throw new Error("No Lecture Id");return{classUuid:t,lectureId:parseInt(c,10)}},Me=function(){var e=Object(l.useState)(),t=Object(E.a)(e,2),c=t[0],n=t[1],r=Object(l.useState)(),i=Object(E.a)(r,2),s=i[0],a=i[1],o=Object(l.useState)(!0),u=Object(E.a)(o,2),d=u[0],j=u[1],b=Object(l.useState)(),O=Object(E.a)(b,2),h=O[0],x=O[1],p=Object(l.useState)(),m=Object(E.a)(p,2),g=m[0],v=m[1],C=Object(l.useState)(),w=Object(E.a)(C,2),S=w[0],I=w[1],y=T(),L=y.socket,N=y.connected,z=ze(),M=z.classUuid,D=z.lectureId;Object(l.useEffect)((function(){N&&L&&L.on("LiveChatAudioMessage",(function(e){var t=e.arrayBuffer,c=(e.senderId,new Blob([new Uint8Array(t)])),n=URL.createObjectURL(c);new Audio(n).play()}))}),[N]);var U=Object(l.useCallback)((function(){if(S){var e=new File([S],"soundBlob",{lastModified:(new Date).getTime(),type:"audio"}),t={classUuid:M,lectureId:D,arrayBuffer:e};null===L||void 0===L||L.emit("LiveChatAudioMessage",t)}}),[S]);return Object(l.useEffect)(U,[S]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(f.b,{"aria-label":"Record Voice Chat",icon:Object(k.jsx)(Ee,{style:{color:d?"black":"red"}}),onClick:d?function(){var e=new window.AudioContext,t=e.createScriptProcessor(0,1,1);v(t);navigator.mediaDevices.getUserMedia({audio:!0}).then((function(c){var r=new MediaRecorder(c);r.start(),n(c),a(r),function(c){var n=e.createMediaStreamSource(c);x(n),n.connect(t),t.connect(e.destination)}(c),t.onaudioprocess=function(n){n.playbackTime>180?(c.getAudioTracks().forEach((function(e){e.stop()})),r.stop(),t.disconnect(),e.createMediaStreamSource(c).disconnect(),r.ondataavailable=function(e){I(e.data),j(!0)}):j(!1)}}))}:function(){s&&(s.ondataavailable=function(e){I(e.data),j(!0)}),c&&c.getAudioTracks().forEach((function(e){e.stop()})),s&&s.stop(),g&&g.disconnect(),h&&h.disconnect()}})})},De=function(e){var t=e.sendMessage,c=Object(l.useState)(""),n=Object(E.a)(c,2),r=n[0],i=n[1];Object(l.useEffect)((function(){return document.addEventListener("keydown",s),function(){return document.removeEventListener("keydown",s)}}));var s=function(e){e.shiftKey||"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),t(r),i(""))};return Object(k.jsxs)(v.d,{p:"8px 6px",w:"full",backgroundColor:"white",flexDir:"column",children:[Object(k.jsx)(Ne.a,{placeholder:"Enter Chat",fontSize:"14px",rows:2,m:.5,borderColor:"black",p:"5px 5px",resize:"vertical",value:r,onChange:function(e){i(e.target.value)}}),Object(k.jsxs)(v.d,{justifyContent:"right",children:[Object(k.jsx)(Me,{}),Object(k.jsx)(f.b,{onClick:function(e){t(r),i("")},size:"md",icon:Object(k.jsx)(F.c,{}),"aria-label":"Send Message",m:.5})]})]})},Ue=function(e){var t=e.children,c=e.backgroundColor,n=e.color,r=e.headingSize,i=e.p,s=e.headingText;return Object(k.jsxs)(v.d,{width:"full",p:i,backgroundColor:c,color:n,justify:"space-between",children:[Object(k.jsx)(v.f,{mt:"3px",size:r,children:s}),Object(k.jsx)(v.d,{children:t})]})},Ae=function(){var e=Object(l.useContext)(w);return{status:e.status,userName:e.userName,id:e.id}};!function(e){e.Marker="Marker",e.Live="Live",e.Individual="Individual"}(we||(we={}));var Re,Pe=function(e){var t=e.hasHeader,c=e.classUuid,n=e.lectureId,r=(e.customHeader,T()),s=r.socket,a=r.connected,o=Object(l.useState)([]),u=Object(E.a)(o,2),d=u[0],j=u[1],b=Object(l.useRef)({chatMode:we.Live}),O=Object(l.useRef)(-1),h=Ae().id,x=function(e){switch(e.chatMode){case we.Live:return"Live Chat";case we.Marker:return e.markerType===i.QUESTION?"Question":"Discussion";case we.Individual:return e.peer.name;default:throw new Error("Invalid ChatStatus")}}(b.current),f=function(e){var t=e.dateStr,c=e.senderId,n=e.senderName,r=e.text,i=e.messageId,s=new Date(t);return{messageId:i,userName:n,message:r,time:"".concat(s.getHours(),":").concat(s.getMinutes()),isMy:c===h}};Object(l.useEffect)((function(){null===s||void 0===s||s.on("TimeMarkerClicked",(function(e,t){O.current=e,b.current={chatMode:we.Marker,markerType:t},null===s||void 0===s||s.emit("GetMarkerMessages",JSON.stringify({markerId:e}))})),null===s||void 0===s||s.on("GetMarkerMessages",(function(e){var t=e.textMessages;e.status;j((function(e){return[]}));var c=t.map((function(e){return f(e)}));j((function(e){return[].concat(Object(U.a)(e),Object(U.a)(c))}))})),null===s||void 0===s||s.on("LiveChatTextMessage",(function(e){var t=e.message;200===e.status&&b.current.chatMode===we.Live&&j((function(e){return[].concat(Object(U.a)(e),[f(t)])}))})),null===s||void 0===s||s.on("MarkerTextMessage",(function(e){var t=e.markerId,c=e.savedMessage;200===e.status&&b.current.chatMode===we.Marker&&O.current===t&&j((function(e){return[].concat(Object(U.a)(e),[f(c)])}))}))}),[a]);return Object(k.jsxs)(v.d,{w:"auto",h:"100vh",backgroundColor:"gray.50",flexDir:"column",align:"center",children:[t&&Object(k.jsx)(Ue,{backgroundColor:function(){switch(b.current.chatMode){case we.Live:return"gray.50";case we.Marker:return b.current.markerType===i.QUESTION?"#FF4A3E":"#3D9AFC";case we.Individual:return"#298977";default:throw new Error("Invalid MarkerType")}}(),color:"black",headingSize:"md",headingText:x,p:"5px 15px",children:Object(k.jsx)(ke.a,{marginLeft:"auto",size:"md",onClick:function(){b.current={chatMode:we.Live},j([])}})}),Object(k.jsx)(v.d,{w:"280px",overflowY:"auto",pb:3,pt:3,flexDir:"column",h:"full",children:d.map((function(e){var t=e.userName,c=e.message,n=e.time,r=e.messageId,i=e.isMy;return Object(k.jsx)(Te,{userName:t,message:c,time:n,isMy:i},r)}))}),Object(k.jsx)(De,{sendMessage:function(e){return function(e){if(0!==e.trim().length)switch(b.current.chatMode){case we.Live:null===s||void 0===s||s.emit("LiveChatTextMessage",JSON.stringify({classUuid:c,lectureId:n,text:e}));break;case we.Marker:null===s||void 0===s||s.emit("MarkerTextMessage",JSON.stringify({classUuid:c,lectureId:n,markerTextMessage:{markerId:O.current,message:e}}));break;case we.Individual:break;default:throw new Error("Invalid ChatStatus")}}(e)}})]})},Fe=function(){var e=Object(h.g)(),t=e.classUuid,c=e.memberType,r=e.lectureId,i=T(),s=i.socket,u=i.connected,d=Object(l.useState)(),j=Object(E.a)(d,2),b=j[0],O=j[1],x=Object(l.useContext)(J),f=x.isLive,p=x.setIsLive,m=x.selectedVidIdx,g=x.setSelectedVidIdx,C=function(){},w=Object(l.useState)([]),S=Object(E.a)(w,2),I=S[0],y=S[1],L={tabTitle:"Playlist",tabContents:I},N=Object(l.useState)([]),z=Object(E.a)(N,2),M=z[0],D=z[1],A={tabTitle:"Participants",tabContents:M},R=Object(l.useState)(_),P=Object(E.a)(R,2),F=P[0],V=P[1],G={tabTitle:"Lecture room",tabContents:F};Object(l.useEffect)((function(){if(c===n.INSTRUCTOR){var e=JSON.stringify({classUuid:t,lectureId:B,status:!f}),r={tabName:"".concat(f?"\u26ab Off":"\ud83d\udd34 Go"," Live"),type:a.NOTICE,message:"toggleLive",onClickHandler:function(){null===s||void 0===s||s.emit("SetLectureLiveStatus",e)}};V([].concat(Object(U.a)(_),[r]))}else{var i={tabName:f?"\ud83d\udd34 On-Live":"\u26ab Off-Live",type:a.NOTICE,message:"notifyLive",onClickHandler:C};V([].concat(Object(U.a)(_),[i]))}}),[f]);var B=parseInt(r,10);return Object(l.useEffect)((function(){if(b){var e=[];be(b.playlist).then((function(c){c.items.forEach((function(c,n){e.push({tabName:c.snippet.title,type:a.VIDEO,videoIdx:n,link:c.snippet.resourceId.videoId,onClickHandler:function(){null===s||void 0===s||s.emit("SelectVideo",{classUuid:t,lectureId:B,selectedVideoIdx:n})}})})),y(e)}))}}),[b]),Object(l.useEffect)((function(){null===s||void 0===s||s.on("JoinLecture",(function(e){var c=e.user,n=e.lecture;if(200===e.status){O(n);var r={tabName:c.userName,type:a.USER,userId:c.id};D((function(e){return[].concat(Object(U.a)(e),[r])}));var i={classUuid:t,lectureId:B};p(n.LiveStatus),n.LiveStatus&&g(n.videoIdx),null===s||void 0===s||s.emit("GetActiveLectureMember",i)}}));var e={classUuid:t,lectureId:B};null===s||void 0===s||s.emit("JoinLecture",e),null===s||void 0===s||s.on("GetActiveLectureMember",(function(e){var t=e.members;if(200===e.status){var c=t.map((function(e){return{tabName:e.userName,type:a.USER,userId:e.id}}));D(c)}})),null===s||void 0===s||s.on("SetLectureLiveStatus",(function(e){var t=e.liveStatus;200===e.status&&p(t)})),null===s||void 0===s||s.on("SelectVideo",(function(e){var t=e.selectedVideoIdx;200===e.status&&g(t)}))}),[u]),console.log(f,c,f&&c===n.STUDENT),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Y,{}),Object(k.jsxs)(v.d,{children:[Object(k.jsx)(W,{menus:[G,L,A],memuContext:o.Lecture}),Object(k.jsx)(v.b,{w:"8px",h:"100vh"}),Object(k.jsx)(v.b,{w:"100%",h:"100vh",children:Object(k.jsx)(Se,{memberType:null!==c&&void 0!==c?c:n.STUDENT,classUuid:null!==t&&void 0!==t?t:"uuid error",lectureId:B,videoIndex:m,videoId:I.length>0?I[m].link:"NULL",width:"100%",height:"100%",isControled:c===n.STUDENT&&f})}),Object(k.jsx)(Pe,{classUuid:t,lectureId:B,hasHeader:!0})]})]})},Ve=c(95),Ge=c(71),Je=c(140),Be=function(e){var t=e.setModalState;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(f.a,{w:200,h:200,onClick:function(){t(Re.JOIN)},children:[Object(k.jsx)(F.b,{w:10,h:10}),Object(k.jsx)("br",{}),"Join"]}),Object(k.jsxs)(f.a,{w:200,h:200,onClick:function(){t(Re.CREATE)},children:[Object(k.jsx)(F.a,{w:10,h:10}),Object(k.jsx)("br",{}),"Create"]})]})},Qe=function(e){var t=e.onChangejoinUUID,c=e.handleJoin,n=e.onModalClose;return Object(k.jsxs)(v.i,{children:[Object(k.jsxs)(Ge.a,{children:[Object(k.jsx)(Ge.b,{children:"Join ID"}),Object(k.jsx)(Je.b,{size:"lg",children:Object(k.jsx)(Je.a,{type:"text",placeholder:"Class ID",onChange:t})})]}),Object(k.jsx)(f.a,{onClick:c,colorScheme:"blue",mr:3,children:"Join"}),Object(k.jsx)(f.a,{onClick:n,children:"Cancel"})]})},qe=function(e){var t=e.onChangeTitle,c=e.onChangeSubtitle,n=e.handleCreate,r=e.onModalClose;return console.log(c),Object(k.jsxs)(v.i,{children:[Object(k.jsxs)(Ge.a,{children:[Object(k.jsx)(Ge.b,{children:"Class Title"}),Object(k.jsx)(Je.b,{size:"lg",children:Object(k.jsx)(Je.a,{type:"text",placeholder:"Class name",onChange:t})})]}),Object(k.jsxs)(Ge.a,{children:[Object(k.jsx)(Ge.b,{children:"Class Subtitle"}),Object(k.jsx)(Je.b,{children:Object(k.jsx)(Je.a,{type:"text",placeholder:"Class Subtitle",onChange:c})})]}),Object(k.jsx)(f.a,{onClick:n,colorScheme:"blue",mr:3,children:"Save"}),Object(k.jsx)(f.a,{onClick:r,children:"Cancel"})]})};!function(e){e[e.INIT=0]="INIT",e[e.JOIN=1]="JOIN",e[e.CREATE=2]="CREATE"}(Re||(Re={}));var He=function(e){var t=e.isOpen,c=e.onClose,n=e.addClass,r=u.a.useState(Re.INIT),i=Object(E.a)(r,2),s=i[0],a=i[1],o=u.a.useState(""),l=Object(E.a)(o,2),d=l[0],j=l[1],b=u.a.useState(""),O=Object(E.a)(b,2),h=O[0],x=O[1],f=u.a.useState(""),p=Object(E.a)(f,2),g=p[0],C=p[1],w=function(){j(""),x(""),C(""),c(),a(Re.INIT)};return Object(k.jsxs)(m.a,{isOpen:t,onClose:w,size:"xl",children:[Object(k.jsx)(m.g,{}),Object(k.jsxs)(m.d,{height:"500px",children:[Object(k.jsx)(m.f,{textAlign:"center",fontSize:"30px",fontWeight:"bold",children:"New Class"}),Object(k.jsx)(m.c,{}),Object(k.jsx)(m.b,{pb:6,h:"300px",children:Object(k.jsxs)(v.e,{justifyContent:"center",alignItems:"center",w:"full",h:"full",children:[s===Re.INIT&&Be({setModalState:a}),s===Re.JOIN&&Qe({onChangejoinUUID:function(e){C(e.target.value)},handleJoin:function(){fetch("http://localhost:5000/api/lobby/class",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:g})}).then((function(e){return e.json()})).then((function(e){if(200===e.status)n(e.class),w();else if(400===e.status)throw new Error(e.err)})).catch((function(e){console.error(e)}))},onModalClose:w}),s===Re.CREATE&&qe({onChangeTitle:function(e){j(e.target.value)},onChangeSubtitle:function(e){x(e.target.value)},handleCreate:function(){fetch("http://localhost:5000/api/lobby/class",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:d,subtitle:h})}).then((function(e){return e.json()})).then((function(e){if(200===e.status)n(e.class),w();else if(400===e.status)throw new Error(e.err)})).catch((function(e){console.error(e)}))},onModalClose:w})]})})]})]})},We=function(e){e.col;var t=e.children;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(v.g,{gridTemplateRows:"repeat(auto-fit, auto)",gridTemplateColumns:"repeat(auto-fit, 270px)",spacing:8,p:5,children:t})})},_e=c(154),Ye=c.n(_e),Ke=function(e){e.imgSrc;var t=e.title,c=e.subTitle,n=(e.color,e.backgroundColor,Ye()({title:t})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=(r?parseInt(r[1],16):0)+(r?parseInt(r[2],16):0)+(r?parseInt(r[3],16):0)<381;return Object(k.jsx)(v.b,{w:"270px",h:150,overflow:"hidden",position:"relative",borderRadius:"30px",color:i?"white":"black",_hover:{cursor:"pointer",boxShadow:"0 0 3px rgba(0,0,0,1)"},children:Object(k.jsxs)(v.d,{p:4,w:"full",h:"100%",position:"absolute",bottom:0,backgroundColor:n,direction:"column",children:[Object(k.jsx)(v.b,{pl:"5px",fontSize:40,fontWeight:"bold",display:"inline",marginTop:"auto",children:"".concat(t,"   ")}),Object(k.jsx)(v.b,{pl:"5px",fontSize:20,fontWeight:"bold",display:"inline",children:"".concat(c)})]})})},Xe=function(){var e=Object(l.useState)([]),t=Object(E.a)(e,2),c=t[0],n=t[1],i=Ae().status;Object(l.useEffect)((function(){i===r.LOADED&&fetch("http://localhost:5000/api/lobby/classes",{method:"GET"}).then((function(e){return e.json()})).then((function(e){n(e.classes)})).catch((function(e){return console.error(e)}))}),[i]);return{classes:c,addClass:function(e){n((function(t){return[].concat(Object(U.a)(t),[e])}))}}},Ze=c.p+"static/media/logo2.7da65d47.svg",$e=function(){var e=Object(Ve.a)({base:"4",sm:"1",md:"2",lg:"3",xl:"4","2xl":"5"}),t=Object(A.d)(),c=t.isOpen,r=t.onOpen,i=t.onClose,s=Xe(),a=s.classes,o=s.addClass;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(v.b,{h:"80px",w:"100%",bgColor:"black",children:Object(k.jsx)(p.a,{src:Ze,alt:"liveclass",h:"80px",pl:"8px"})}),Object(k.jsx)("br",{}),Object(k.jsx)(v.f,{size:"lg",pl:"30px",children:"Teaching Lectures"}),Object(k.jsx)(We,{col:e,children:a.filter((function(e){return e.memberType===n.INSTRUCTOR})).map((function(e){var t=e.uuid,c=e.title,n=e.subtitle,r=e.memberType;return Object(k.jsx)(O.b,{to:"/class/".concat(t,"/").concat(r),children:Object(k.jsx)(Ke,{title:c,subTitle:n,color:"white",backgroundColor:"black"})},t)}))}),Object(k.jsx)("br",{}),Object(k.jsx)(v.f,{size:"lg",pl:"30px",children:"Listening Lectures"}),Object(k.jsx)(We,{col:e,children:a.filter((function(e){return e.memberType===n.STUDENT})).map((function(e){var t=e.uuid,c=e.title,n=e.subtitle,r=e.memberType;return Object(k.jsx)(O.b,{to:"/class/".concat(t,"/").concat(r),children:Object(k.jsx)(Ke,{imgSrc:"a",title:c,subTitle:n,color:"white",backgroundColor:"black"})},t)}))}),Object(k.jsx)(f.b,{position:"fixed",right:"5%",bottom:"10%",size:"lg","aria-label":"Add Classroom",colorScheme:"green",icon:Object(k.jsx)(F.a,{}),onClick:r}),Object(k.jsx)(He,{onClose:i,isOpen:c,addClass:o})]})},et=c(141),tt=function(e){var t=e.onChangeLecturetitle;return Object(k.jsxs)(v.i,{spacing:"24px",children:[Object(k.jsx)(v.f,{size:"lg",pl:"30px",children:"Lecture Title"}),Object(k.jsx)(Ge.a,{pl:"30px",children:Object(k.jsx)(Je.a,{type:"text",placeholder:"Lecture Title",onChange:function(e){return t(e)},w:"500px",focusBorderColor:"black"})})]})},ct=function(e){var t=e.onChangeLectureNotice;return Object(k.jsxs)(v.i,{spacing:"24px",children:[Object(k.jsx)(v.f,{size:"md",pl:"30px",children:"Notice"}),Object(k.jsx)(Ge.a,{pl:"30px",children:Object(k.jsx)(Ne.a,{placeholder:"Description",onChange:function(e){return t(e)},focusBorderColor:"black",w:"500px"})})]})},nt=c(155),rt=c.n(nt),it=(c(248),function(e){var t=e.lectureDate,c=e.setLectureDate;return Object(k.jsxs)(v.i,{spacing:"24px",children:[Object(k.jsx)(v.f,{size:"md",pl:"30px",children:"Lecture Time"}),Object(k.jsx)(v.e,{pl:"30px",children:Object(k.jsx)(rt.a,{selected:t,onChange:function(e){return c(e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"yyyy.MM.dd h:mm aa"})})]})}),st=function(e){var t=e.onChangeLecturePlaylist,c=e.Lecturelink,n=e.setLecturequizlist,r=[{id:1,link:"",title:"",quiztime:"",problem:"",answer:""}];return Object(k.jsxs)(v.i,{spacing:"24px",children:[Object(k.jsx)(v.f,{size:"md",pl:"30px",children:"Youtube playlist"}),Object(k.jsxs)(v.k,{size:"sm",pl:"30px",children:["Input Youtube playlist.",Object(k.jsx)("br",{}),"For https://www.youtube.com/playlist?list=PLFt2h1jjxKxwQAQr6Dv5kYP4Uu5cGX1iH",Object(k.jsx)("br",{}),"Just input PLFt2h1jjxKxwQAQr6Dv5kYP4Uu5cGX1iH"]}),Object(k.jsxs)(v.e,{spacing:"5px",pl:"30px",children:[Object(k.jsx)(Je.a,{placeholder:"Youtube Material link",onChange:function(e){return t(e)},focusBorderColor:"black",w:"500px"}),Object(k.jsx)(f.a,{colorScheme:"blue",w:100,onClick:function(){be(c).then((function(e){e.items.forEach((function(e,t){var c={id:t,link:e.snippet.resourceId.videoId,title:e.snippet.title,quiztime:" ",problem:" ",answer:" ",mark:0};r.push(c)})),n(r)}))},children:"Add"}),Object(k.jsx)(f.a,{colorScheme:"red",w:100,onClick:function(){n([{id:1,link:" ",quiztime:" ",problem:" ",answer:" "}])},children:"Remove All"})]})]})},at=function(e){var t=e.id,c=e.isAddopen,n=e.onAddopen,r=e.onAddclose,i=e.onChangeLectureproblem,s=e.onChangeLectureanswer,a=e.onChangeLecturequiztime,o=e.Lectureproblem,l=e.Lectureanswer,u=e.Lecturequiztime,d=e.setQurrentnumber,j=e.Lecturequizlist,b=e.Qurrentnumber,O=e.setLecturequizlist;return Object(k.jsxs)(v.i,{children:[Object(k.jsx)(f.b,{id:t,"aria-label":"Add to friends",icon:Object(k.jsx)(F.a,{}),onClick:function(e){d(e.target.id),n()}}),Object(k.jsxs)(m.a,{isOpen:c,onClose:r,children:[Object(k.jsx)(m.g,{}),Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.f,{children:"Create Quiz"}),Object(k.jsx)(m.c,{}),Object(k.jsx)(m.b,{children:Object(k.jsxs)(v.i,{spacing:"20px",children:[Object(k.jsxs)(v.i,{children:[Object(k.jsx)(v.b,{children:"Problem Description"}),Object(k.jsx)(Ne.a,{placeholder:"Description",onChange:i,focusBorderColor:"black"})]}),Object(k.jsxs)(v.i,{children:[Object(k.jsx)(v.b,{children:"Answer"}),Object(k.jsx)(Je.a,{type:"text",placeholder:"Problem Answer",onChange:s,focusBorderColor:"black"})]}),Object(k.jsxs)(v.i,{children:[Object(k.jsx)(v.b,{children:"Quiz Open Time"}),Object(k.jsx)(Ge.b,{children:"If 07:34 please enter 0734"}),Object(k.jsx)(Je.a,{type:"text",placeholder:"Quiz pop up time",onChange:a,focusBorderColor:"black"})]})]})}),Object(k.jsx)(m.e,{children:Object(k.jsx)(f.a,{colorScheme:"blue",mr:3,onClick:function(){var e=Object(U.a)(j);e[b-1].quiztime=u,e[b-1].problem=o,e[b-1].answer=l,e[b-1].mark=1,O(e),r()},children:"Add"})})]})]})]})},ot=function(){var e=Object(A.d)(),t=e.isOpen,c=e.onOpen,n=e.onClose,r=Object(l.useState)(new Date),i=Object(E.a)(r,2),s=i[0],a=i[1],o=Object(l.useState)(""),u=Object(E.a)(o,2),d=u[0],j=u[1],b=Object(l.useState)(""),O=Object(E.a)(b,2),x=(O[0],O[1]),p=Object(l.useState)(""),m=Object(E.a)(p,2),g=m[0],C=m[1],w=Object(l.useState)(""),S=Object(E.a)(w,2),I=S[0],y=S[1],L=Object(l.useState)(""),N=Object(E.a)(L,2),z=N[0],M=N[1],D=Object(l.useState)(""),P=Object(E.a)(D,2),V=P[0],G=P[1],J=Object(l.useState)(""),B=Object(E.a)(J,2),Q=B[0],q=B[1],H=Object(l.useState)([{id:0,playlist:g,link:"Lecture Link",title:"Video Title",quiztime:"Lecture Quiz Time",problem:"Lecture Problem",answer:"Lecture Answer",mark:0}]),W=Object(E.a)(H,2),_=W[0],Y=(W[1],Object(l.useState)([{id:1,playlist:g,link:" ",title:" ",quiztime:" ",problem:" ",answer:" ",mark:0}])),K=Object(E.a)(Y,2),X=K[0],Z=K[1],$=T(),ee=$.socket,te=($.connected,Object(h.g)().classUuid),ce=Object(h.f)(),ne=Object(R.a)(),re=function(e){M(e.target.value)},ie=function(e){G(e.target.value)},se=function(e){y(e.target.value)},ae=function(e){oe(e.target.id)},oe=function(e){var t=Object(U.a)(X);t[e-1].quiztime=" ",t[e-1].problem=" ",t[e-1].answer=" ",t[e-1].mark=0,Z(t)},le=X.map((function(e){return Object(k.jsx)(et.a,{variant:"simple",size:"sm",children:Object(k.jsx)(et.b,{children:Object(k.jsxs)(et.e,{align:"left",children:[Object(k.jsx)(et.c,{align:"left",width:"5%",children:e.id}),Object(k.jsx)(et.c,{align:"left",width:"15%",children:e.title}),Object(k.jsx)(et.c,{align:"left",width:"10%",children:e.quiztime}),Object(k.jsx)(et.c,{align:"left",width:"15%",children:e.problem}),Object(k.jsx)(et.c,{align:"left",width:"5%",children:e.answer}),Object(k.jsx)(et.c,{align:"center",width:"5%",children:Object(k.jsx)(at,{id:e.id,isAddopen:t,onAddopen:c,onAddclose:n,onChangeLectureproblem:re,onChangeLectureanswer:ie,onChangeLecturequiztime:se,Lectureproblem:z,Lectureanswer:V,Lecturequiztime:I,setQurrentnumber:q,Lecturequizlist:X,Qurrentnumber:Q,setLecturequizlist:Z})}),Object(k.jsx)(et.c,{align:"center",width:"5%",children:Object(k.jsx)(f.b,{id:e.id,"aria-label":"Add to friends",icon:Object(k.jsx)(F.g,{}),onClick:ae})})]})})})})),ue=_.map((function(e){return Object(k.jsx)(et.a,{variant:"simple",children:Object(k.jsx)(et.d,{children:Object(k.jsxs)(et.e,{align:"left",children:[Object(k.jsx)(et.c,{align:"left",width:"5%",children:e.id}),Object(k.jsx)(et.c,{align:"left",width:"15%",children:e.title}),Object(k.jsx)(et.c,{align:"left",width:"10%",children:e.quiztime}),Object(k.jsx)(et.c,{align:"left",width:"15%",children:e.problem}),Object(k.jsx)(et.c,{align:"left",width:"5%",children:e.answer}),Object(k.jsx)(et.c,{align:"center",width:"5%",children:"Add"}),Object(k.jsx)(et.c,{align:"center",width:"5%",children:"Remove"})]})})})}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(v.i,{spacing:"24px",children:[Object(k.jsx)(v.c,{bg:"black",h:"100px",color:"white",fontSize:"2xl",children:"Create Lecture"}),Object(k.jsx)(tt,{onChangeLecturetitle:function(e){j(e.target.value)}}),Object(k.jsx)(ct,{onChangeLectureNotice:function(e){x(e.target.value)}}),Object(k.jsx)(it,{lectureDate:s,setLectureDate:a}),Object(k.jsx)(st,{Lecturequizlist:X,onChangeLecturePlaylist:function(e){C(e.target.value)},Lecturelink:g,setLecturequizlist:Z}),Object(k.jsx)(v.f,{size:"md",pl:"30px",children:"Quiz List"}),Object(k.jsx)("ol",{children:ue}),Object(k.jsx)("ol",{children:le})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsxs)(v.d,{children:[Object(k.jsx)(v.h,{}),Object(k.jsx)(f.a,{leftIcon:Object(k.jsx)(F.d,{}),colorScheme:"blue",mr:3,w:150,h:50,onClick:function(){var e=JSON.stringify({classUuid:te,lectureDate:s,lectureName:d,playlist:g});null===ee||void 0===ee||ee.emit("CreateLecture",e),ce(-1),ne({title:"New lecture created",status:"success",duration:1500,isClosable:!0})},children:"Create Lecture"}),Object(k.jsx)(f.a,{leftIcon:Object(k.jsx)(F.e,{}),colorScheme:"red",mr:50,w:150,h:50,onClick:function(){return ce(-1)},children:"Cancel"})]}),Object(k.jsx)("br",{})]})},lt=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(D,{url:"http://localhost:5000/",children:[Object(k.jsx)(y,{}),Object(k.jsx)(O.a,{children:Object(k.jsxs)(h.c,{children:[Object(k.jsx)(h.a,{path:"/",element:Object(k.jsx)($e,{})}),Object(k.jsx)(h.a,{path:"class/:classUuid/:memberType",element:Object(k.jsx)(pe,{})}),Object(k.jsx)(h.a,{path:"class/:classUuid/:memberType/createLecture",element:Object(k.jsx)(ot,{})}),Object(k.jsx)(h.a,{path:"class/:classUuid/:memberType/:lectureId",element:Object(k.jsx)(Fe,{})})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ut=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,310)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),i(e),s(e)}))},dt=function(e){var t=e.children,c=Object(l.useState)(""),n=Object(E.a)(c,2),i=n[0],s=n[1],a=Object(l.useState)(r.LOADING),o=Object(E.a)(a,2),u=o[0],d=o[1],j=Object(l.useState)(-1),b=Object(E.a)(j,2),O=b[0],h=b[1];return Object(l.useEffect)((function(){u===r.LOADING&&fetch("http://localhost:5000/api/me",{method:"GET"}).then((function(e){return e.json()})).then((function(e){401===e.status?d(r.NOTLOADED):200===e.status&&(console.log("Logged IN"),s(e.userName),h(e.id),d(r.LOADED))})).catch((function(e){return console.error(e)}))}),[]),Object(k.jsx)(w.Provider,{value:{userName:i,status:u,id:O},children:t})},jt=function(e){var t=e.children,c=Object(l.useState)(0),n=Object(E.a)(c,2),r=n[0],i=n[1],s=Object(l.useState)(!1),a=Object(E.a)(s,2),o=a[0],u=a[1];return Object(k.jsx)(J.Provider,{value:{isLive:o,setIsLive:u,selectedVidIdx:r,setSelectedVidIdx:i},children:t})},bt=function(e){var t=e.children,c=Object(l.useState)(s.KO),n=Object(E.a)(c,2),r=n[0],i=n[1];return Object(k.jsx)(q.Provider,{value:{language:r,setLanguage:i},children:t})};j.a.render(Object(k.jsx)(u.a.StrictMode,{children:Object(k.jsx)(b.a,{children:Object(k.jsx)(dt,{children:Object(k.jsx)(jt,{children:Object(k.jsx)(bt,{children:Object(k.jsx)(lt,{})})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ut()}},[[291,1,2]]]);
//# sourceMappingURL=main.68df6718.chunk.js.map