(this["webpackJsonpfe-dev-client"]=this["webpackJsonpfe-dev-client"]||[]).push([[0],{186:function(e,t,c){},202:function(e,t,c){},214:function(e,t,c){},291:function(e,t,c){"use strict";c.r(t);var n,r,i,s,a,o=c(0),l=c.n(o),u=c(35),d=c.n(u),j=c(17),b=(c(186),c(42)),O=c(14),h=c(56),x=c(125),f=c(127),p=c(142),m=c(93),g=c(128),v=c.p+"static/media/naver_login_eng.69b5671c.png";!function(e){e.INSTRUCTOR="instructor",e.STUDENT="student"}(n||(n={})),function(e){e[e.LOADED=0]="LOADED",e[e.LOADING=1]="LOADING",e[e.NOTLOADED=2]="NOTLOADED"}(r||(r={})),function(e){e.QUESTION="Question",e.DISCUSSION="Discussion"}(i||(i={})),function(e){e[e.EN=0]="EN",e[e.KO=1]="KO"}(s||(s={})),function(e){e.USER="user",e.VIDEO="video",e.NOTICE="notice"}(a||(a={}));var C=Object(o.createContext)({userName:"",status:r.LOADED,id:-1}),w=c.p+"static/media/logo1.23d60d6d.svg",S=c(1),k=function(e){var t=Object.assign({},e);return Object(S.jsx)(x.a,Object(h.a)(Object(h.a)({w:460,h:100,colorScheme:"white"},t),{},{children:Object(S.jsx)(f.a,{src:v,fit:"fill"})}))},I=function(){var e=Object(o.useContext)(C).status;return Object(S.jsxs)(p.a,{size:"xl",isOpen:e!==r.LOADED,onClose:function(){console.log()},children:[Object(S.jsx)(p.g,{}),e===r.LOADING?Object(S.jsx)(m.a,{}):Object(S.jsxs)(p.d,{children:[Object(S.jsx)(p.f,{children:Object(S.jsxs)(g.l,{w:"100%",children:[Object(S.jsxs)(g.d,{w:"100%",h:"60px",children:[Object(S.jsx)(g.h,{}),Object(S.jsx)(f.a,{src:w,alt:"liveclass",h:"60px"}),Object(S.jsx)(g.h,{})]}),Object(S.jsx)(g.b,{w:"100%",textAlign:"center",fontSize:"50px",fontWeight:"bold",children:"LOG IN"})]})}),Object(S.jsx)(p.b,{children:Object(S.jsx)(g.d,{children:Object(S.jsxs)(g.b,{w:"100%",display:"flex",children:[Object(S.jsx)(g.h,{}),Object(S.jsx)(k,{onClick:function(){window.location.pathname="/api/auth/naver"}}),Object(S.jsx)(g.h,{})]})})})]})]})},y=Object(o.createContext)({getSocket:function(){return null},getConnected:function(){return!1},getError:function(){},subscribeEvent:function(){},getEventMsg:function(){return""}}),L=function(){var e=Object(o.useContext)(y),t=e.getSocket,c=e.getConnected,n=e.getError;return{socket:t(),connected:c(),error:n()}},T=c(96),N=c(11),E=c(156);function z(e){var t=e.url,c=e.children,n=e.options,r=e.debug,i=void 0===r||r,s=Object(o.useState)(null),a=Object(N.a)(s,2),l=a[0],u=a[1],d=Object(o.useState)(!1),j=Object(N.a)(d,2),b=j[0],O=j[1],x=Object(o.useState)(null),f=Object(N.a)(x,2),p=f[0],m=f[1],g=Object(o.useState)({}),v=Object(N.a)(g,2),C=v[0],w=v[1];Object(o.useEffect)((function(){var e=Object(E.a)(t,n);return u(e),e.on("connect",(function(){O(!0)})),e.on("disconnect",(function(){e.removeAllListeners(),O(!1)})),e.on("error",(function(e){m(e)})),i&&e.onAny((function(e){for(var t=arguments.length,c=new Array(t>1?t-1:0),n=1;n<t;n++)c[n-1]=arguments[n];console.log(e,c)})),function(){u(null),e.disconnect()}}),[t,n]);return Object(S.jsx)(y.Provider,{value:{getSocket:function(){return l},getConnected:function(){return b},getError:function(){return p},subscribeEvent:function(e){null===l||void 0===l||l.on(e,(function(t){!function(e,t){w(Object(h.a)(Object(h.a)({},C),{},Object(T.a)({},e,t)))}(e,t)}))},getEventMsg:function(e){return C[e]}},children:c})}z.defaultProps={options:null};var M=z,D=c(25),U=c(18),A=c(143),R=c(9),F=c(24),P=c(129),V=c(69),G=Object(o.createContext)({isLive:!1,setIsLive:function(){return null},selectedVidIdx:0,setSelectedVidIdx:function(){return null}}),J=function(e){var t=e.entry,c=Object(O.g)(),r=(c.classUuid,c.memberType),i=(c.lectureId,Object(o.useContext)(G)),s=i.isLive,l=i.selectedVidIdx,u=i.setSelectedVidIdx,d=!1;t.type===a.VIDEO&&(d=t.videoIdx===l);return Object(S.jsx)(g.b,{as:"button",height:"28px",lineHeight:"1.1",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",border:"1px",px:"8px",borderRadius:"2px",fontSize:"20px",textAlign:"start",bg:"white",borderColor:d?"#FF4A3E":"white",color:"black",_hover:{bg:"#ebedf0"},_active:{bg:"#dddfe2",transform:"scale(0.98)",borderColor:"#bec3c9"},_focus:{boxShadow:"0 0 1px 2px rgba(88, 144, 255, .75), 0 1px 1px rgba(0, 0, 0, .15)"},onClick:function(){switch(t.type){case a.USER:alert(t.userId);break;case a.VIDEO:if(r===n.STUDENT&&s)return;u(t.videoIdx),r===n.INSTRUCTOR&&s&&t.onClickHandler();break;case a.NOTICE:t.onClickHandler?t.onClickHandler():alert(t.message)}},overflow:"scroll",whiteSpace:"nowrap",children:t.tabName})},B=function(e){var t=e.tabTitle,c=e.tabContents;return Object(S.jsx)(g.b,{w:"175px",children:Object(S.jsxs)(g.i,{spacing:0,children:[Object(S.jsx)(g.b,{letterSpacing:"wide",justifyContent:"flex-start",fontWeight:"bold",fontSize:"18px",ml:"2",mt:"2",children:t}),Object(S.jsx)(g.b,{w:"100%",h:"3px"}),c.map((function(e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(J,{entry:e}),Object(S.jsx)(g.b,{w:"100%",h:"3px"})]})}))]})})},Q=Object(o.createContext)({language:s.KO,setLanguage:function(){return null}}),q=Object(R.b)({displayName:"GlobeIcon",path:Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(S.jsx)("path",{d:"M24 24h-2.784l-1.07-3h-4.875l-1.077 3h-2.697l4.941-13h2.604l4.958 13zm-4.573-5.069l-1.705-4.903-1.712 4.903h3.417zm-9.252-12.804c.126-.486.201-.852.271-1.212l-2.199-.428c-.036.185-.102.533-.22 1-.742-.109-1.532-.122-2.332-.041.019-.537.052-1.063.098-1.569h2.456v-2.083h-2.161c.106-.531.198-.849.288-1.149l-2.147-.645c-.158.526-.29 1.042-.422 1.794h-2.451v2.083h2.184c-.058.673-.093 1.371-.103 2.077-2.413.886-3.437 2.575-3.437 4.107 0 1.809 1.427 3.399 3.684 3.194 2.802-.255 4.673-2.371 5.77-4.974 1.134.654 1.608 1.753 1.181 2.771-.396.941-1.561 1.838-3.785 1.792v2.242c2.469.038 4.898-.899 5.85-3.166.93-2.214-.132-4.635-2.525-5.793zm-2.892 1.531c-.349.774-.809 1.544-1.395 2.15-.09-.646-.151-1.353-.184-2.108.533-.07 1.072-.083 1.579-.042zm-3.788.724c.062.947.169 1.818.317 2.596-1.996.365-2.076-1.603-.317-2.596zm11.236-1.745l-2.075-5.533 5.414-1.104-.976 1.868c2.999 2.418 4.116 5.645 4.532 8.132-1.736-2.913-3.826-4.478-5.885-5.321l-1.01 1.958zm-7.895 10.781l1.985 5.566-5.43 1.016 1.006-1.852c-2.96-2.465-4.021-5.654-4.397-8.148 1.689 2.94 3.749 4.483 5.794 5.36l1.042-1.942zm10.795-6.029"})})}),H=function(e){var t=e.menus,c=Object(o.useContext)(Q),n=(c.language,c.setLanguage),r=Object(O.f)();return Object(S.jsxs)(g.d,{w:"190px",h:"100vh",flexDir:"column",children:[Object(S.jsx)(g.d,{overflowX:"hidden",overflowY:"auto",flexDir:"column",children:Object(S.jsx)(g.b,{ml:"2",children:Object(S.jsx)(g.l,{divider:Object(S.jsx)(g.j,{borderColor:"gray.200"}),spacing:0,w:"190px",align:"stretch",children:t.map((function(e){return Object(S.jsx)(B,{tabTitle:e.tabTitle,tabContents:e.tabContents})}))})})}),Object(S.jsx)(g.h,{}),Object(S.jsx)(g.d,{p:"10px 10px",w:"full",backgroundColor:"white",flexDir:"column",children:Object(S.jsxs)(g.b,{bottom:0,children:[Object(S.jsxs)(P.a,{children:[Object(S.jsx)(P.f,{children:Object(S.jsx)(x.b,{size:"md",colorScheme:"red",icon:Object(S.jsx)(F.e,{}),"aria-label":"Quit",m:.5})}),Object(S.jsxs)(P.e,{w:180,children:[Object(S.jsx)(P.b,{}),Object(S.jsx)(P.c,{children:Object(S.jsx)(x.a,{colorScheme:"red",w:150,onClick:function(){return r(-1)},children:"Quit room"})})]})]}),Object(S.jsx)(x.b,{size:"md",icon:Object(S.jsx)(F.h,{}),"aria-label":"Settings",m:.5}),Object(S.jsx)(P.a,{placement:"top-start",children:function(e){var t=e.onClose;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(P.f,{children:Object(S.jsx)(x.b,{size:"sm",icon:Object(S.jsx)(q,{}),"aria-label":"Settings",m:.5})}),Object(S.jsx)(V.a,{children:Object(S.jsx)(P.e,{w:"165px",h:"60px",children:Object(S.jsxs)(P.c,{children:[Object(S.jsx)(x.a,{colorScheme:"green",marginRight:"2px",onClick:function(){n(s.EN),t()},children:"EN"}),Object(S.jsx)(x.a,{colorScheme:"blue",onClick:function(){n(s.KO),t()},children:"\ud55c\uae00"}),Object(S.jsx)(P.d,{})]})})})]})}})]})})]})},_=[{tabName:"Notice",type:a.NOTICE,message:"Notice message"},{tabName:"Materials",type:a.NOTICE,message:"Materials message"}],W=function(){var e=L().connected;return Object(S.jsx)(g.d,{position:"fixed",left:5,bottom:10,zIndex:3,w:"300px",h:"200px",backgroundColor:"gray.300",justifyContent:"center",alignContent:"center",borderRadius:"30px",opacity:"0.8",color:e?"blue.500":"red.500",children:Object(S.jsx)(g.k,{height:"fit-content",fontSize:"2xl",children:"Connected: ".concat(e?"True":"False")})})},Y=Object(R.b)({displayName:"flagIcon",path:Object(S.jsx)("svg",{className:"flagIcon",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 206.505 206.505",xmlSpace:"preserve",children:Object(S.jsx)("g",{children:Object(S.jsx)("path",{d:"M167.069,16.354c-0.426,0.186-43.29,18.671-70.274-4.481c-31.021-26.619-60.722-0.2-61.012,0.072 L34.623,13l-0.179,193.494l7.108,0.011l0.115-122.594c5.157-4.091,27.11-19.086,50.498,0.988 c30.356,26.047,75.839,6.438,77.765,5.59l2.133-0.938V14.153L167.069,16.354z M164.943,84.824 c-8.997,3.389-44.603,14.874-68.148-5.322c-10.375-8.904-20.6-11.871-29.629-11.871c-10.815,0-19.923,4.266-25.489,7.702 l0.047-59.101c5.264-4.169,27.142-18.961,50.44,1.034c24.855,21.323,59.863,12.043,72.78,7.516V84.824z"})})})}),K=function(e){var t=e.children,c=e.onClick;return Object(S.jsx)(x.a,{className:"ClipboardButton",leftIcon:Object(S.jsx)(F.f,{}),"aria-label":"Settings",m:.5,onClick:c,children:t})},X=function(e){var t=e.onClick;return Object(S.jsxs)(g.b,{className:"create-timeline-marker",children:[Object(S.jsx)(x.a,{colorScheme:"red",leftIcon:Object(S.jsx)(Y,{}),marginRight:"2px",onClick:function(){return t(i.QUESTION)},children:"Question"}),Object(S.jsx)(x.a,{colorScheme:"blue",leftIcon:Object(S.jsx)(Y,{}),onClick:function(){return t(i.DISCUSSION)},children:"Discussion"})]})},Z=c(309),$=c(307),ee=c(308),te=c(303),ce=c(304),ne=c(305),re=c(306),ie=(c(198),c(199),c(200),c(201),c(202),c(83)),se=c(5),ae=Object(se.c)({sm:"320px",md:"768px",lg:"960px",xl:"1200px","2xl":"1536px"}),oe=(Object(j.b)({breakpoints:ae}),function(e){var t=e.lectureNum,c=e.youtubeID,n=e.isLive,r=e.date,i=e.to,s=e.key;return Object(S.jsx)(g.b,{w:"100%",h:"60vh",rounded:"md",boxShadow:"md",bgColor:n?"red.200":"white",borderColor:n?"red":"black",overflow:"hidden",children:Object(S.jsxs)(g.d,{h:"100%",flexDirection:"column",children:[Object(S.jsx)(g.a,{ratio:16/9,children:Object(S.jsx)(f.a,{src:"https://img.youtube.com/vi/".concat(c,"/hqdefault.jpg"),fit:"cover",h:"40%"})}),Object(S.jsxs)(g.d,{h:"100%",flexDirection:"column",textAlign:"center",p:6,color:Object(ie.d)("gray.800","white"),align:"center",children:[n?Object(S.jsx)(g.k,{fontSize:"lg",fontWeight:"bold",bg:"red.100",p:2,px:3,color:"red",rounded:"full",children:"Live"}):Object(S.jsx)(g.k,{fontSize:"lg",fontWeight:"bold",bg:"green.100",p:2,px:3,color:"green.500",rounded:"full",children:"".concat(r)}),Object(S.jsx)(g.h,{}),Object(S.jsx)(g.b,{children:Object(S.jsx)(g.f,{color:Object(ie.d)("gray.700","white"),fontSize:{base:"12px",md:"20px",lg:"26px",xl:"30px","2xl":"42px"},fontFamily:"body",children:"Lecture ".concat(t)})}),Object(S.jsx)(g.h,{}),Object(S.jsx)(b.b,{to:i,children:Object(S.jsx)(x.a,{w:"100%",h:"40px",bg:"green.400",color:"white",fontSize:"15px",rounded:"xl",boxShadow:"0 5px 20px 0px rgb(72 187 120 / 43%)",_hover:{bg:"green.500"},_focus:{bg:"green.500"},children:"Go To Lecture"})},s),Object(S.jsx)(g.b,{h:"30px"})]})]})})});ee.a.use([te.a,ce.a,ne.a,re.a]);var le,ue=function(e){var t=e.classUuid,c=e.memberType,n=e.lectureList;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Z.a,{centeredSlides:!0,className:"swiper-container",spaceBetween:50,slidesPerView:4,navigation:!0,pagination:{clickable:!0,renderBullet:function(e,t){return'<span class="'.concat(t,'">').concat(e+1,"</span>")}},children:n.map((function(e){var n=e.id,r=e.lectureDate,i=(e.lectureName,e.LiveStatus);return Object(S.jsx)($.a,{children:Object(S.jsx)(oe,{lectureNum:n,youtubeID:"4-u7kewhpDU",date:r.slice(0,10),to:"/class/".concat(t,"/").concat(c,"/").concat(n),isLive:i},n)})}))})})},de=function(){var e=Object(O.g)(),t=e.classUuid,c=e.memberType,n=L(),r=n.socket,i=n.connected,s=Object(o.useState)([]),l=Object(N.a)(s,2),u=l[0],d=l[1],j=Object(U.c)(t),h=(j.hasCopied,j.onCopy),f=Object(A.a)(),p={tabTitle:"Classroom",tabContents:_},m=Object(o.useState)([]),v=Object(N.a)(m,2),C=v[0],w=v[1],k={tabTitle:"Classmates",tabContents:C};Object(o.useEffect)((function(){var e=JSON.stringify({classUuid:t});null===r||void 0===r||r.on("JoinClass",(function(){null===r||void 0===r||r.emit("GetClassMembers",e),null===r||void 0===r||r.emit("GetLectures",e)})),null===r||void 0===r||r.emit("JoinClass",e),null===r||void 0===r||r.on("CreateLecture",(function(e){var t=e.lecture;200===e.status&&d((function(e){return[].concat(Object(D.a)(e),[t])}))})),null===r||void 0===r||r.on("GetClassMembers",(function(e){var t=e.members;if(200===e.status){var c=t.map((function(e){return{tabName:e.userName,type:a.USER,userId:e.id}}));w(c)}})),null===r||void 0===r||r.on("GetLectures",(function(e){var t=e.lectures;200===e.status&&d(t)}))}),[i]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(W,{}),Object(S.jsxs)(g.d,{children:[Object(S.jsx)(H,{menus:[p,k]}),Object(S.jsx)(g.b,{w:"8px",h:"100vh"}),Object(S.jsxs)(g.b,{w:"100%",h:"100vh",bgColor:"gray.100",children:[Object(S.jsx)(ue,{classUuid:t,memberType:c,lectureList:u}),"instructor"===c&&Object(S.jsx)(b.b,{to:"/class/".concat(t,"/").concat(c,"/createLecture"),children:Object(S.jsx)(x.a,{children:"Create new lecture"})}),Object(S.jsx)(K,{onClick:function(){h(),f({title:"ClassId copied to your clipboard!",status:"success",duration:1500,isClosable:!0})},children:"Copy Class Id"})]})]})]})},je=c(148),be=(c(214),c(130)),Oe=function(e){var t=e.color;return Object(S.jsxs)("svg",{width:"26",height:"42",viewBox:"0 0 26 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(S.jsx)("path",{id:"FlagSVGStroke",d:"M0.25 41.75V1.35983C0.478428 0.930839 0.673497 0.640584 0.845353 0.461995C1.02353 0.276835 1.14455 0.243676 1.22836 0.250958C1.32482 0.259338 1.46095 0.327377 1.65137 0.532983C1.82818 0.723902 2.02343 1.00219 2.25 1.36856V41.75H0.25Z",fill:t,stroke:"black",strokeWidth:"0.5"}),Object(S.jsx)("path",{id:"FlagSVGStroke",d:"M0.25 20.8038V3.86704C5.79233 6.03311 9.95189 6.92656 13.8517 6.82338C17.6706 6.72233 21.2189 5.66585 25.5464 3.95051C24.221 7.25607 23.5865 9.87565 23.6068 12.4474C23.6276 15.0852 24.3371 17.6498 25.6573 20.8285C20.9883 21.9986 17.2644 22.6277 13.4138 22.6521C9.53251 22.6767 5.51003 22.087 0.25 20.8038Z",fill:t,stroke:"black",strokeWidth:"0.5"})]})},he=function(e){var t=e.id,c=e.time,n=e.markerType,r=(e.videoIndex,L().socket);return Object(S.jsx)("button",{className:"timeline-marker",style:{left:"".concat(c,"%")},type:"button","aria-label":"timeline",onClick:function(){return function(){var e=JSON.stringify({markerId:t,markerType:n});null===r||void 0===r||r.emit("TimeMarkerClicked",e)}()},children:Object(S.jsx)(Oe,{color:function(e){switch(e){case i.DISCUSSION:return"blue";case i.QUESTION:return"red";default:throw new Error("Invalid MarkerType")}}(n)})})};!function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.CUED=5]="CUED"}(le||(le={}));var xe,fe=function(e){var t,c,r=e.memberType,i=e.classUuid,s=e.lectureId,a=e.videoId,l=e.videoIndex,u=e.width,d=void 0===u?"100%":u,j=e.height,b=void 0===j?"100%":j,O=e.isControled,h=L(),x=h.socket,f=h.connected,p=Object(o.useState)(null),m=Object(N.a)(p,2),g=m[0],v=m[1],C=Object(o.useState)(0),w=Object(N.a)(C,2),k=w[0],I=w[1],y=Object(o.useRef)(0),T=Object(o.useRef)(null),E=Object(o.useRef)(null),z=Object(o.useRef)(null),M=Object(o.useState)([]),U=Object(N.a)(M,2),A=U[0],R=U[1];"NULL"===a?function(){var e;null===(e=E.current)||void 0===e||e.classList.add("coverVideo")}():function(){var e;null===(e=E.current)||void 0===e||e.classList.remove("coverVideo")}();Object(o.useEffect)((function(){return f&&g&&(O&&(null===x||void 0===x||x.on("InstructorTimeChange",(function(e){null===g||void 0===g||g.seekTo(e)})),null===x||void 0===x||x.on("InstructorPlay",(function(){null===g||void 0===g||g.playVideo()})),null===x||void 0===x||x.on("InstructorPause",(function(){null===g||void 0===g||g.pauseVideo()}))),null===x||void 0===x||x.on("GetMarkers",(function(e){var t=e.markers;200===e.status&&R(t)})),null===x||void 0===x||x.emit("GetMarkers",{classUuid:i,lectureId:s,videoIndex:l})),null===x||void 0===x||x.on("CreateMarker",(function(e){var t=e.marker;200===e.status&&R((function(e){return[].concat(Object(D.a)(e),[t])}))})),function(){clearInterval(T.current),null===x||void 0===x||x.off("InstructorTimeChange"),null===x||void 0===x||x.off("InstructorPlay"),null===x||void 0===x||x.off("InstructorPause"),null===x||void 0===x||x.off("GetMarkers"),null===x||void 0===x||x.off("CreateMarker")}}),[f,g,l]),O?null===(t=E.current)||void 0===t||t.classList.add("live"):null===(c=E.current)||void 0===c||c.classList.remove("live");var F={height:b.toString(),width:d.toString(),playerVars:{autoplay:0,controls:O?0:1,disablekb:O?1:0,rel:0}},P={backgroundImage:"url(".concat("https://previews.123rf.com/images/sevenozz/sevenozz1812/sevenozz181200056/127054720-vintage-tv-test-screen-please-stand-by-television-calibration-pattern.jpg",")"),backgroundSize:"100% 100%"};return Object(S.jsxs)("div",{className:r===n.INSTRUCTOR?"teacher":"student",id:"youtube-wrapper",ref:E,style:{width:d,height:b},onMouseEnter:function(){var e;null===(e=z.current)||void 0===e||e.classList.add("showTimeline")},onMouseLeave:function(){var e;null===(e=z.current)||void 0===e||e.classList.remove("showTimeline")},children:[Object(S.jsx)(X,{onClick:function(e){var t=g.getCurrentTime();t=t>y.current?y.current-5:t;var c={classUuid:i,lectureId:s,marker:{markerType:e,time:t/y.current*100,videoIndex:l}};null===x||void 0===x||x.emit("CreateMarker",JSON.stringify(c))}}),Object(S.jsxs)("div",{className:"video-timeline-components",ref:z,children:[A.map((function(e){var t=e.id,c=e.markerType,n=e.time;return 0===y.current?Object(S.jsx)("div",{}):Object(S.jsx)(he,{id:t,time:n,markerType:c,videoIndex:l})})),O?Object(S.jsx)(be.a,{colorScheme:"red",position:"absolute",bottom:"35px",height:"5px",width:"100%",value:y.current?k/y.current*100:0}):Object(S.jsx)("div",{})]}),Object(S.jsx)("div",{className:"video-cover",style:P}),Object(S.jsx)("div",{className:"video-container",children:Object(S.jsx)(je.a,{className:"video",videoId:a,opts:F,onReady:function(e){v(e.target)},onPlay:function(e){g&&(y.current=g.playerInfo.duration),T.current=setInterval((function(){I(g.getCurrentTime())}),100)},onPause:function(e){clearInterval(T.current)},onStateChange:function(e){if(!O){var t=e.target,c=JSON.stringify({classUuid:i,lectureId:s,newtime:t.getCurrentTime()});e.data===le.BUFFERING?null===x||void 0===x||x.emit("InstructorTimeChange",c):e.data===le.PLAYING?(null===x||void 0===x||x.emit("InstructorTimeChange",c),null===x||void 0===x||x.emit("InstructorPlay",c)):e.data===le.PAUSED&&(null===x||void 0===x||x.emit("InstructorPause",c))}}})})]})},pe=c(58),me=function(e){var t=e.message,c=e.backgroundColor,n=e.color;return Object(S.jsx)(g.b,{maxWidth:"200px",backgroundColor:c,color:n,marginBottom:"auto",borderRadius:"7px",fontSize:"14px",p:"5px 7px",children:t})},ge=function(e){var t=e.time;return Object(S.jsx)(g.b,{fontSize:5,marginTop:"auto",p:1,color:"black",children:t})},ve=function(e){var t=e.userName;return Object(S.jsx)(g.b,{width:"fit-content",mt:0,mb:.5,fontSize:"14px",p:"2px 5px",textAlign:"start",children:t})},Ce=function(e){var t=e.userName,c=e.message,n=e.time,r=e.isMy;return Object(S.jsxs)(g.b,{width:"full",p:"4px 8px 0px",m:0,children:[!r&&Object(S.jsx)(ve,{userName:t}),Object(S.jsx)(g.d,{display:"flex",justifyContent:r?"right":"left",alignContent:"center",m:0,children:r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ge,{time:n}),Object(S.jsx)(me,{message:c,backgroundColor:"blue.500",color:"gray.50"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(me,{message:c,backgroundColor:"gray.100",color:"black"}),Object(S.jsx)(ge,{time:n})]})})]})},we=c(131),Se=(Object(R.b)({displayName:"RecordIcon",path:Object(S.jsxs)("svg",{children:[Object(S.jsx)("g",{id:"Livello_7",children:Object(S.jsx)("path",{d:"M91.192,59.623V21.946c0.043-0.534,0.068-1.073,0.068-1.618C91.262,9.102,82.161,0,70.935,0   c-11.229,0-20.33,9.104-20.33,20.328c0,0.545,0.024,1.084,0.066,1.618v37.677c-0.042,0.535-0.066,1.073-0.066,1.621   c0,11.229,9.103,20.326,20.329,20.326c11.227,0,20.327-9.1,20.327-20.326C91.262,60.696,91.235,60.158,91.192,59.623    M120.942,50.219c0-3.084-2.5-5.584-5.584-5.584c-3.082,0-5.582,2.5-5.582,5.584c0,0.047,0.004,0.092,0.008,0.139   c-0.076,21.43-17.471,38.779-38.917,38.779c-21.448,0-38.842-17.353-38.917-38.779c0.002-0.047,0.008-0.092,0.008-0.139   c0-3.084-2.5-5.584-5.584-5.584s-5.585,2.5-5.585,5.584c0,25.714,19.388,46.896,44.339,49.743v28.648H38.78   c-2.96,0-5.358,2.402-5.358,5.361c0,2.961,2.398,5.355,5.358,5.355h26.35h11.61h26.35c2.959,0,5.357-2.396,5.357-5.355   c0-2.959-2.398-5.361-5.357-5.361h-26.35V99.945C101.628,97.039,120.942,75.885,120.942,50.219"})}),Object(S.jsx)("g",{id:"Livello_1_1_"})]})}),Object(R.b)({displayName:"flagIcon",path:Object(S.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 206.505 206.505",xmlSpace:"preserve",children:Object(S.jsx)("g",{children:Object(S.jsx)("path",{d:"M167.069,16.354c-0.426,0.186-43.29,18.671-70.274-4.481c-31.021-26.619-60.722-0.2-61.012,0.072 L34.623,13l-0.179,193.494l7.108,0.011l0.115-122.594c5.157-4.091,27.11-19.086,50.498,0.988 c30.356,26.047,75.839,6.438,77.765,5.59l2.133-0.938V14.153L167.069,16.354z M164.943,84.824 c-8.997,3.389-44.603,14.874-68.148-5.322c-10.375-8.904-20.6-11.871-29.629-11.871c-10.815,0-19.923,4.266-25.489,7.702 l0.047-59.101c5.264-4.169,27.142-18.961,50.44,1.034c24.855,21.323,59.863,12.043,72.78,7.516V84.824z"})})})}),function(e){return Object(S.jsx)(R.a,Object(h.a)(Object(h.a)({viewBox:"0 0 200 200"},e),{},{children:Object(S.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}))}),ke=function(){var e=Object(O.g)(),t=e.classUuid,c=e.lectureId;if(!t)throw new Error("No ClassUuid");if(!c)throw new Error("No Lecture Id");return{classUuid:t,lectureId:parseInt(c,10)}},Ie=function(){var e=Object(o.useState)(),t=Object(N.a)(e,2),c=t[0],n=t[1],r=Object(o.useState)(),i=Object(N.a)(r,2),s=i[0],a=i[1],l=Object(o.useState)(!0),u=Object(N.a)(l,2),d=u[0],j=u[1],b=Object(o.useState)(),O=Object(N.a)(b,2),h=O[0],f=O[1],p=Object(o.useState)(),m=Object(N.a)(p,2),g=m[0],v=m[1],C=Object(o.useState)(),w=Object(N.a)(C,2),k=w[0],I=w[1],y=L(),T=y.socket,E=y.connected,z=ke(),M=z.classUuid,D=z.lectureId;Object(o.useEffect)((function(){E&&T&&T.on("LiveChatAudioMessage",(function(e){var t=e.arrayBuffer,c=(e.senderId,new Blob([new Uint8Array(t)])),n=URL.createObjectURL(c);new Audio(n).play()}))}),[E]);var U=Object(o.useCallback)((function(){if(k){var e=new File([k],"soundBlob",{lastModified:(new Date).getTime(),type:"audio"}),t={classUuid:M,lectureId:D,arrayBuffer:e};null===T||void 0===T||T.emit("LiveChatAudioMessage",t)}}),[k]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x.b,{"aria-label":"Record Voice Chat",icon:Object(S.jsx)(Se,{style:{color:d?"black":"red"}}),onClick:d?function(){var e=new window.AudioContext,t=e.createScriptProcessor(0,1,1);v(t);navigator.mediaDevices.getUserMedia({audio:!0}).then((function(c){var r=new MediaRecorder(c);r.start(),n(c),a(r),function(c){var n=e.createMediaStreamSource(c);f(n),n.connect(t),t.connect(e.destination)}(c),t.onaudioprocess=function(n){n.playbackTime>180?(c.getAudioTracks().forEach((function(e){e.stop()})),r.stop(),t.disconnect(),e.createMediaStreamSource(c).disconnect(),r.ondataavailable=function(e){I(e.data),j(!0)}):j(!1)}}))}:function(){s&&(s.ondataavailable=function(e){I(e.data),j(!0)}),c&&c.getAudioTracks().forEach((function(e){e.stop()})),s&&s.stop(),g&&g.disconnect(),h&&h.disconnect()}}),Object(S.jsx)("button",{type:"button",onClick:U,children:"Send Audio Message"})]})},ye=function(e){var t=e.sendMessage,c=Object(o.useState)(""),n=Object(N.a)(c,2),r=n[0],i=n[1];Object(o.useEffect)((function(){return document.addEventListener("keydown",s),function(){return document.removeEventListener("keydown",s)}}));var s=function(e){e.shiftKey||"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),t(r),i(""))};return Object(S.jsxs)(g.d,{p:"8px 6px",w:"full",backgroundColor:"white",flexDir:"column",children:[Object(S.jsx)(we.a,{placeholder:"Enter Chat",fontSize:"14px",rows:2,m:.5,borderColor:"black",p:"5px 5px",resize:"vertical",value:r,onChange:function(e){i(e.target.value)}}),Object(S.jsxs)(g.d,{justifyContent:"right",children:[Object(S.jsx)(x.b,{size:"md",icon:Object(S.jsx)(F.i,{}),"aria-label":"Timeline",m:.5}),Object(S.jsx)(x.b,{onClick:function(e){t(r),i("")},size:"md",icon:Object(S.jsx)(F.c,{}),"aria-label":"Send Message",m:.5}),Object(S.jsx)(Ie,{})]})]})},Le=function(e){var t=e.children,c=e.backgroundColor,n=e.color,r=e.headingSize,i=e.p,s=e.headingText;return Object(S.jsxs)(g.d,{width:"full",p:i,backgroundColor:c,color:n,justify:"space-between",children:[Object(S.jsx)(g.f,{mt:"3px",size:r,children:s}),Object(S.jsx)(g.d,{children:t})]})},Te=function(){var e=Object(o.useContext)(C);return{status:e.status,userName:e.userName,id:e.id}};!function(e){e.Marker="Marker",e.Live="Live",e.Individual="Individual"}(xe||(xe={}));var Ne=function(e){var t=e.hasHeader,c=e.classUuid,n=e.lectureId,r=(e.customHeader,L()),s=r.socket,a=r.connected,l=Object(o.useState)([]),u=Object(N.a)(l,2),d=u[0],j=u[1],b=Object(o.useRef)({chatMode:xe.Live}),O=Object(o.useRef)(-1),h=Te().id,x=function(e){switch(e.chatMode){case xe.Live:return"Live Chat";case xe.Marker:return e.markerType===i.QUESTION?"Question":"Discussion";case xe.Individual:return e.peer.name;default:throw new Error("Invalid ChatStatus")}}(b.current),f=function(e){var t=e.dateStr,c=e.senderId,n=e.senderName,r=e.text,i=e.messageId,s=new Date(t);return{messageId:i,userName:n,message:r,time:"".concat(s.getHours(),":").concat(s.getMinutes()),isMy:c===h}};Object(o.useEffect)((function(){null===s||void 0===s||s.on("TimeMarkerClicked",(function(e,t){O.current=e,b.current={chatMode:xe.Marker,markerType:t},null===s||void 0===s||s.emit("GetMarkerMessages",JSON.stringify({markerId:e}))})),null===s||void 0===s||s.on("GetMarkerMessages",(function(e){var t=e.textMessages;e.status;j((function(e){return[]}));var c=t.map((function(e){return f(e)}));j((function(e){return[].concat(Object(D.a)(e),Object(D.a)(c))}))})),null===s||void 0===s||s.on("LiveChatTextMessage",(function(e){var t=e.message;200===e.status&&b.current.chatMode===xe.Live&&j((function(e){return[].concat(Object(D.a)(e),[f(t)])}))})),null===s||void 0===s||s.on("MarkerTextMessage",(function(e){var t=e.markerId,c=e.savedMessage;200===e.status&&b.current.chatMode===xe.Marker&&O.current===t&&j((function(e){return[].concat(Object(D.a)(e),[f(c)])}))}))}),[a]);return Object(S.jsxs)(g.d,{w:"auto",h:"100vh",backgroundColor:"gray.50",flexDir:"column",align:"center",children:[t&&Object(S.jsx)(Le,{backgroundColor:function(){switch(b.current.chatMode){case xe.Live:return"gray.50";case xe.Marker:return b.current.markerType===i.QUESTION?"#FF4A3E":"#3D9AFC";case xe.Individual:return"#298977";default:throw new Error("Invalid MarkerType")}}(),color:"black",headingSize:"md",headingText:x,p:"5px 15px",children:Object(S.jsx)(pe.a,{marginLeft:"auto",size:"md",onClick:function(){b.current={chatMode:xe.Live},j([])}})}),Object(S.jsx)(g.d,{w:"280px",overflowY:"auto",pb:3,pt:3,flexDir:"column",h:"full",children:d.map((function(e){var t=e.userName,c=e.message,n=e.time,r=e.messageId,i=e.isMy;return Object(S.jsx)(Ce,{userName:t,message:c,time:n,isMy:i},r)}))}),Object(S.jsx)(ye,{sendMessage:function(e){return function(e){if(0!==e.trim().length)switch(b.current.chatMode){case xe.Live:null===s||void 0===s||s.emit("LiveChatTextMessage",JSON.stringify({classUuid:c,lectureId:n,text:e}));break;case xe.Marker:null===s||void 0===s||s.emit("MarkerTextMessage",JSON.stringify({classUuid:c,lectureId:n,markerTextMessage:{markerId:O.current,message:e}}));break;case xe.Individual:break;default:throw new Error("Invalid ChatStatus")}}(e)}})]})},Ee=c(122),ze=c.n(Ee),Me=c(151),De=c(152),Ue=c.n(De);c(153).config();var Ae,Re=function(){var e=Object(Me.a)(ze.a.mark((function e(t){var c;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.a.get("https://www.googleapis.com/youtube/v3/playlistItems",{params:{part:"id,snippet",maxResults:10,playlistId:t,key:"AIzaSyCHVChOn1oiqENXEWez1FijV9bvlPs-XzI"}});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(O.g)(),t=e.classUuid,c=e.memberType,r=e.lectureId,i=L(),s=i.socket,l=i.connected,u=Object(o.useState)(),d=Object(N.a)(u,2),j=d[0],b=d[1],h=Object(o.useContext)(G),x=h.isLive,f=h.setIsLive,p=h.selectedVidIdx,m=h.setSelectedVidIdx,v=function(){},C=Object(o.useState)([]),w=Object(N.a)(C,2),k=w[0],I=w[1],y={tabTitle:"Playlist",tabContents:k},T=Object(o.useState)([]),E=Object(N.a)(T,2),z=E[0],M=E[1],U={tabTitle:"Participants",tabContents:z},A=Object(o.useState)(_),R=Object(N.a)(A,2),F=R[0],P=R[1],V={tabTitle:"Lecture room",tabContents:F};Object(o.useEffect)((function(){if(c===n.INSTRUCTOR){var e=JSON.stringify({classUuid:t,lectureId:J,status:!x}),r={tabName:"".concat(x?"\u26ab Off":"\ud83d\udd34 Go"," Live"),type:a.NOTICE,message:"toggleLive",onClickHandler:function(){null===s||void 0===s||s.emit("SetLectureLiveStatus",e)}};P([].concat(Object(D.a)(_),[r]))}else{var i={tabName:x?"\ud83d\udd34 On-Live":"\u26ab Off-Live",type:a.NOTICE,message:"notifyLive",onClickHandler:v};P([].concat(Object(D.a)(_),[i]))}}),[x]);var J=parseInt(r,10);return Object(o.useEffect)((function(){if(j){var e=[];Re(j.playlist).then((function(c){c.items.forEach((function(c,n){e.push({tabName:c.snippet.title,type:a.VIDEO,videoIdx:n,link:c.snippet.resourceId.videoId,onClickHandler:function(){null===s||void 0===s||s.emit("SelectVideo",{classUuid:t,lectureId:J,selectedVideoIdx:n})}})})),I(e)}))}}),[j]),Object(o.useEffect)((function(){null===s||void 0===s||s.on("JoinLecture",(function(e){var c=e.user,n=e.lecture;if(200===e.status){b(n);var r={tabName:c.userName,type:a.USER,userId:c.id};M((function(e){return[].concat(Object(D.a)(e),[r])}));var i={classUuid:t,lectureId:J};null===s||void 0===s||s.emit("GetActiveLectureMember",i)}}));var e={classUuid:t,lectureId:J};null===s||void 0===s||s.emit("JoinLecture",e),null===s||void 0===s||s.on("GetActiveLectureMember",(function(e){var t=e.members;if(200===e.status){var c=t.map((function(e){return{tabName:e.userName,type:a.USER,userId:e.id}}));M(c)}})),null===s||void 0===s||s.on("SetLectureLiveStatus",(function(e){var t=e.liveStatus;200===e.status&&f(t)})),null===s||void 0===s||s.on("SelectVideo",(function(e){var t=e.selectedVideoIdx;200===e.status&&m(t)}))}),[l]),console.log(x,c,x&&c===n.STUDENT),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(W,{}),Object(S.jsxs)(g.d,{children:[Object(S.jsx)(H,{menus:[V,y,U]}),Object(S.jsx)(g.b,{w:"8px",h:"100vh"}),Object(S.jsx)(g.b,{w:"100%",h:"100vh",children:Object(S.jsx)(fe,{memberType:null!==c&&void 0!==c?c:n.STUDENT,classUuid:null!==t&&void 0!==t?t:"uuid error",lectureId:J,videoIndex:p,videoId:k.length>0?k[p].link:"NULL",width:"100%",height:"100%",isControled:c===n.STUDENT&&x})}),Object(S.jsx)(Ne,{classUuid:t,lectureId:J,hasHeader:!0})]})]})},Pe=c(95),Ve=c(71),Ge=c(140),Je=function(e){var t=e.setModalState;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(x.a,{w:200,h:200,onClick:function(){t(Ae.JOIN)},children:[Object(S.jsx)(F.b,{w:10,h:10}),Object(S.jsx)("br",{}),"Join"]}),Object(S.jsxs)(x.a,{w:200,h:200,onClick:function(){t(Ae.CREATE)},children:[Object(S.jsx)(F.a,{w:10,h:10}),Object(S.jsx)("br",{}),"Create"]})]})},Be=function(e){var t=e.onChangejoinUUID,c=e.handleJoin,n=e.onModalClose;return Object(S.jsxs)(g.i,{children:[Object(S.jsxs)(Ve.a,{children:[Object(S.jsx)(Ve.b,{children:"Join ID"}),Object(S.jsx)(Ge.b,{size:"lg",children:Object(S.jsx)(Ge.a,{type:"text",placeholder:"Class ID",onChange:t})})]}),Object(S.jsx)(x.a,{onClick:c,colorScheme:"blue",mr:3,children:"Join"}),Object(S.jsx)(x.a,{onClick:n,children:"Cancel"})]})},Qe=function(e){var t=e.onChangeTitle,c=e.onChangeSubtitle,n=e.handleCreate,r=e.onModalClose;return console.log(c),Object(S.jsxs)(g.i,{children:[Object(S.jsxs)(Ve.a,{children:[Object(S.jsx)(Ve.b,{children:"Class Title"}),Object(S.jsx)(Ge.b,{size:"lg",children:Object(S.jsx)(Ge.a,{type:"text",placeholder:"Class name",onChange:t})})]}),Object(S.jsxs)(Ve.a,{children:[Object(S.jsx)(Ve.b,{children:"Class Subtitle"}),Object(S.jsx)(Ge.b,{children:Object(S.jsx)(Ge.a,{type:"text",placeholder:"Class Subtitle",onChange:c})})]}),Object(S.jsx)(x.a,{onClick:n,colorScheme:"blue",mr:3,children:"Save"}),Object(S.jsx)(x.a,{onClick:r,children:"Cancel"})]})};!function(e){e[e.INIT=0]="INIT",e[e.JOIN=1]="JOIN",e[e.CREATE=2]="CREATE"}(Ae||(Ae={}));var qe=function(e){var t=e.isOpen,c=e.onClose,n=e.addClass,r=l.a.useState(Ae.INIT),i=Object(N.a)(r,2),s=i[0],a=i[1],o=l.a.useState(""),u=Object(N.a)(o,2),d=u[0],j=u[1],b=l.a.useState(""),O=Object(N.a)(b,2),h=O[0],x=O[1],f=l.a.useState(""),m=Object(N.a)(f,2),v=m[0],C=m[1],w=function(){j(""),x(""),C(""),c(),a(Ae.INIT)};return Object(S.jsxs)(p.a,{isOpen:t,onClose:w,size:"xl",children:[Object(S.jsx)(p.g,{}),Object(S.jsxs)(p.d,{height:"500px",children:[Object(S.jsx)(p.f,{textAlign:"center",fontSize:"30px",fontWeight:"bold",children:"New Class"}),Object(S.jsx)(p.c,{}),Object(S.jsx)(p.b,{pb:6,h:"300px",children:Object(S.jsxs)(g.e,{justifyContent:"center",alignItems:"center",w:"full",h:"full",children:[s===Ae.INIT&&Je({setModalState:a}),s===Ae.JOIN&&Be({onChangejoinUUID:function(e){C(e.target.value)},handleJoin:function(){fetch("http://localhost:5000/api/lobby/class",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:v})}).then((function(e){return e.json()})).then((function(e){if(200===e.status)n(e.class),w();else if(400===e.status)throw new Error(e.err)})).catch((function(e){console.error(e)}))},onModalClose:w}),s===Ae.CREATE&&Qe({onChangeTitle:function(e){j(e.target.value)},onChangeSubtitle:function(e){x(e.target.value)},handleCreate:function(){fetch("http://localhost:5000/api/lobby/class",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:d,subtitle:h})}).then((function(e){return e.json()})).then((function(e){if(200===e.status)n(e.class),w();else if(400===e.status)throw new Error(e.err)})).catch((function(e){console.error(e)}))},onModalClose:w})]})})]})]})},He=function(e){e.col;var t=e.children;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(g.g,{gridTemplateRows:"repeat(auto-fit, auto)",gridTemplateColumns:"repeat(auto-fit, 270px)",spacing:8,p:5,children:t})})},_e=c(154),We=c.n(_e),Ye=function(e){e.imgSrc;var t=e.title,c=e.subTitle,n=(e.color,e.backgroundColor,We()({title:t})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=(r?parseInt(r[1],16):0)+(r?parseInt(r[2],16):0)+(r?parseInt(r[3],16):0)<381;return Object(S.jsx)(g.b,{w:"270px",h:150,overflow:"hidden",position:"relative",borderRadius:"30px",color:i?"white":"black",_hover:{cursor:"pointer",boxShadow:"0 0 3px rgba(0,0,0,1)"},children:Object(S.jsxs)(g.d,{p:4,w:"full",h:"100%",position:"absolute",bottom:0,backgroundColor:n,direction:"column",children:[Object(S.jsx)(g.b,{pl:"5px",fontSize:40,fontWeight:"bold",display:"inline",marginTop:"auto",children:"".concat(t,"   ")}),Object(S.jsx)(g.b,{pl:"5px",fontSize:20,fontWeight:"bold",display:"inline",children:"".concat(c)})]})})},Ke=function(){var e=Object(o.useState)([]),t=Object(N.a)(e,2),c=t[0],n=t[1],i=Te().status;Object(o.useEffect)((function(){i===r.LOADED&&fetch("http://localhost:5000/api/lobby/classes",{method:"GET"}).then((function(e){return e.json()})).then((function(e){n(e.classes)})).catch((function(e){return console.error(e)}))}),[i]);return{classes:c,addClass:function(e){n((function(t){return[].concat(Object(D.a)(t),[e])}))}}},Xe=c.p+"static/media/logo2.7da65d47.svg",Ze=function(){var e=Object(Pe.a)({base:"4",sm:"1",md:"2",lg:"3",xl:"4","2xl":"5"}),t=Object(U.d)(),c=t.isOpen,r=t.onOpen,i=t.onClose,s=Ke(),a=s.classes,o=s.addClass;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.b,{h:"80px",w:"100%",bgColor:"black",children:Object(S.jsx)(f.a,{src:Xe,alt:"liveclass",h:"80px",pl:"8px"})}),Object(S.jsx)("br",{}),Object(S.jsx)(g.f,{size:"lg",pl:"30px",children:"Teaching Lectures"}),Object(S.jsx)(He,{col:e,children:a.filter((function(e){return e.memberType===n.INSTRUCTOR})).map((function(e){var t=e.uuid,c=e.title,n=e.subtitle,r=e.memberType;return Object(S.jsx)(b.b,{to:"/class/".concat(t,"/").concat(r),children:Object(S.jsx)(Ye,{title:c,subTitle:n,color:"white",backgroundColor:"black"})},t)}))}),Object(S.jsx)("br",{}),Object(S.jsx)(g.f,{size:"lg",pl:"30px",children:"Listening Lectures"}),Object(S.jsx)(He,{col:e,children:a.filter((function(e){return e.memberType===n.STUDENT})).map((function(e){var t=e.uuid,c=e.title,n=e.subtitle,r=e.memberType;return Object(S.jsx)(b.b,{to:"/class/".concat(t,"/").concat(r),children:Object(S.jsx)(Ye,{imgSrc:"a",title:c,subTitle:n,color:"white",backgroundColor:"black"})},t)}))}),Object(S.jsx)(x.b,{position:"fixed",right:"5%",bottom:"10%",size:"lg","aria-label":"Add Classroom",colorScheme:"green",icon:Object(S.jsx)(F.a,{}),onClick:r}),Object(S.jsx)(qe,{onClose:i,isOpen:c,addClass:o})]})},$e=c(141),et=function(e){var t=e.onChangeLecturetitle;return Object(S.jsxs)(g.i,{spacing:"24px",children:[Object(S.jsx)(g.f,{size:"lg",pl:"30px",children:"Lecture Title"}),Object(S.jsx)(Ve.a,{pl:"30px",children:Object(S.jsx)(Ge.a,{type:"text",placeholder:"Lecture Title",onChange:function(e){return t(e)},w:"500px",focusBorderColor:"black"})})]})},tt=function(e){var t=e.onChangeLectureNotice;return Object(S.jsxs)(g.i,{spacing:"24px",children:[Object(S.jsx)(g.f,{size:"md",pl:"30px",children:"Notice"}),Object(S.jsx)(Ve.a,{pl:"30px",children:Object(S.jsx)(we.a,{placeholder:"Description",onChange:function(e){return t(e)},focusBorderColor:"black",w:"500px"})})]})},ct=c(155),nt=c.n(ct),rt=(c(248),function(e){var t=e.lectureDate,c=e.setLectureDate;return Object(S.jsxs)(g.i,{spacing:"24px",children:[Object(S.jsx)(g.f,{size:"md",pl:"30px",children:"Lecture Time"}),Object(S.jsx)(g.e,{pl:"30px",children:Object(S.jsx)(nt.a,{selected:t,onChange:function(e){return c(e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"yyyy.MM.dd h:mm aa"})})]})}),it=function(e){var t=e.onChangeLecturePlaylist,c=e.Lecturelink,n=e.setLecturequizlist,r=[{id:1,link:"",title:"",quiztime:"",problem:"",answer:""}];return Object(S.jsxs)(g.i,{spacing:"24px",children:[Object(S.jsx)(g.f,{size:"md",pl:"30px",children:"Youtube playlist"}),Object(S.jsxs)(g.k,{size:"sm",pl:"30px",children:["Input Youtube playlist.",Object(S.jsx)("br",{}),"For https://www.youtube.com/playlist?list=PLFt2h1jjxKxwQAQr6Dv5kYP4Uu5cGX1iH",Object(S.jsx)("br",{}),"Just input PLFt2h1jjxKxwQAQr6Dv5kYP4Uu5cGX1iH"]}),Object(S.jsxs)(g.e,{spacing:"5px",pl:"30px",children:[Object(S.jsx)(Ge.a,{placeholder:"Youtube Material link",onChange:function(e){return t(e)},focusBorderColor:"black",w:"500px"}),Object(S.jsx)(x.a,{colorScheme:"blue",w:100,onClick:function(){Re(c).then((function(e){e.items.forEach((function(e,t){var c={id:t,link:e.snippet.resourceId.videoId,title:e.snippet.title,quiztime:" ",problem:" ",answer:" ",mark:0};r.push(c)})),n(r)}))},children:"Add"}),Object(S.jsx)(x.a,{colorScheme:"red",w:100,onClick:function(){n([{id:1,link:" ",quiztime:" ",problem:" ",answer:" "}])},children:"Remove All"})]})]})},st=function(e){var t=e.id,c=e.isAddopen,n=e.onAddopen,r=e.onAddclose,i=e.onChangeLectureproblem,s=e.onChangeLectureanswer,a=e.onChangeLecturequiztime,o=e.Lectureproblem,l=e.Lectureanswer,u=e.Lecturequiztime,d=e.setQurrentnumber,j=e.Lecturequizlist,b=e.Qurrentnumber,O=e.setLecturequizlist;return Object(S.jsxs)(g.i,{children:[Object(S.jsx)(x.b,{id:t,"aria-label":"Add to friends",icon:Object(S.jsx)(F.a,{}),onClick:function(e){d(e.target.id),n()}}),Object(S.jsxs)(p.a,{isOpen:c,onClose:r,children:[Object(S.jsx)(p.g,{}),Object(S.jsxs)(p.d,{children:[Object(S.jsx)(p.f,{children:"Create Quiz"}),Object(S.jsx)(p.c,{}),Object(S.jsx)(p.b,{children:Object(S.jsxs)(g.i,{spacing:"20px",children:[Object(S.jsxs)(g.i,{children:[Object(S.jsx)(g.b,{children:"Problem Description"}),Object(S.jsx)(we.a,{placeholder:"Description",onChange:i,focusBorderColor:"black"})]}),Object(S.jsxs)(g.i,{children:[Object(S.jsx)(g.b,{children:"Answer"}),Object(S.jsx)(Ge.a,{type:"text",placeholder:"Problem Answer",onChange:s,focusBorderColor:"black"})]}),Object(S.jsxs)(g.i,{children:[Object(S.jsx)(g.b,{children:"Quiz Open Time"}),Object(S.jsx)(Ve.b,{children:"If 07:34 please enter 0734"}),Object(S.jsx)(Ge.a,{type:"text",placeholder:"Quiz pop up time",onChange:a,focusBorderColor:"black"})]})]})}),Object(S.jsx)(p.e,{children:Object(S.jsx)(x.a,{colorScheme:"blue",mr:3,onClick:function(){var e=Object(D.a)(j);e[b-1].quiztime=u,e[b-1].problem=o,e[b-1].answer=l,e[b-1].mark=1,O(e),r()},children:"Add"})})]})]})]})},at=function(){var e=Object(U.d)(),t=e.isOpen,c=e.onOpen,n=e.onClose,r=Object(o.useState)(new Date),i=Object(N.a)(r,2),s=i[0],a=i[1],l=Object(o.useState)(""),u=Object(N.a)(l,2),d=u[0],j=u[1],b=Object(o.useState)(""),h=Object(N.a)(b,2),f=(h[0],h[1]),p=Object(o.useState)(""),m=Object(N.a)(p,2),v=m[0],C=m[1],w=Object(o.useState)(""),k=Object(N.a)(w,2),I=k[0],y=k[1],T=Object(o.useState)(""),E=Object(N.a)(T,2),z=E[0],M=E[1],R=Object(o.useState)(""),P=Object(N.a)(R,2),V=P[0],G=P[1],J=Object(o.useState)(""),B=Object(N.a)(J,2),Q=B[0],q=B[1],H=Object(o.useState)([{id:0,playlist:v,link:"Lecture Link",title:"Video Title",quiztime:"Lecture Quiz Time",problem:"Lecture Problem",answer:"Lecture Answer",mark:0}]),_=Object(N.a)(H,2),W=_[0],Y=(_[1],Object(o.useState)([{id:1,playlist:v,link:" ",title:" ",quiztime:" ",problem:" ",answer:" ",mark:0}])),K=Object(N.a)(Y,2),X=K[0],Z=K[1],$=L(),ee=$.socket,te=($.connected,Object(O.g)().classUuid),ce=Object(O.f)(),ne=Object(A.a)(),re=function(e){M(e.target.value)},ie=function(e){G(e.target.value)},se=function(e){y(e.target.value)},ae=function(e){oe(e.target.id)},oe=function(e){var t=Object(D.a)(X);t[e-1].quiztime=" ",t[e-1].problem=" ",t[e-1].answer=" ",t[e-1].mark=0,Z(t)},le=X.map((function(e){return Object(S.jsx)($e.a,{variant:"simple",size:"sm",children:Object(S.jsx)($e.b,{children:Object(S.jsxs)($e.e,{align:"left",children:[Object(S.jsx)($e.c,{align:"left",width:"5%",children:e.id}),Object(S.jsx)($e.c,{align:"left",width:"15%",children:e.title}),Object(S.jsx)($e.c,{align:"left",width:"10%",children:e.quiztime}),Object(S.jsx)($e.c,{align:"left",width:"15%",children:e.problem}),Object(S.jsx)($e.c,{align:"left",width:"5%",children:e.answer}),Object(S.jsx)($e.c,{align:"center",width:"5%",children:Object(S.jsx)(st,{id:e.id,isAddopen:t,onAddopen:c,onAddclose:n,onChangeLectureproblem:re,onChangeLectureanswer:ie,onChangeLecturequiztime:se,Lectureproblem:z,Lectureanswer:V,Lecturequiztime:I,setQurrentnumber:q,Lecturequizlist:X,Qurrentnumber:Q,setLecturequizlist:Z})}),Object(S.jsx)($e.c,{align:"center",width:"5%",children:Object(S.jsx)(x.b,{id:e.id,"aria-label":"Add to friends",icon:Object(S.jsx)(F.g,{}),onClick:ae})})]})})})})),ue=W.map((function(e){return Object(S.jsx)($e.a,{variant:"simple",children:Object(S.jsx)($e.d,{children:Object(S.jsxs)($e.e,{align:"left",children:[Object(S.jsx)($e.c,{align:"left",width:"5%",children:e.id}),Object(S.jsx)($e.c,{align:"left",width:"15%",children:e.title}),Object(S.jsx)($e.c,{align:"left",width:"10%",children:e.quiztime}),Object(S.jsx)($e.c,{align:"left",width:"15%",children:e.problem}),Object(S.jsx)($e.c,{align:"left",width:"5%",children:e.answer}),Object(S.jsx)($e.c,{align:"center",width:"5%",children:"Add"}),Object(S.jsx)($e.c,{align:"center",width:"5%",children:"Remove"})]})})})}));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(g.i,{spacing:"24px",children:[Object(S.jsx)(g.c,{bg:"black",h:"100px",color:"white",fontSize:"2xl",children:"Create Lecture"}),Object(S.jsx)(et,{onChangeLecturetitle:function(e){j(e.target.value)}}),Object(S.jsx)(tt,{onChangeLectureNotice:function(e){f(e.target.value)}}),Object(S.jsx)(rt,{lectureDate:s,setLectureDate:a}),Object(S.jsx)(it,{Lecturequizlist:X,onChangeLecturePlaylist:function(e){C(e.target.value)},Lecturelink:v,setLecturequizlist:Z}),Object(S.jsx)(g.f,{size:"md",pl:"30px",children:"Quiz List"}),Object(S.jsx)("ol",{children:ue}),Object(S.jsx)("ol",{children:le})]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(g.d,{children:[Object(S.jsx)(g.h,{}),Object(S.jsx)(x.a,{leftIcon:Object(S.jsx)(F.d,{}),colorScheme:"blue",mr:3,w:150,h:50,onClick:function(){var e=JSON.stringify({classUuid:te,lectureDate:s,lectureName:d,playlist:v});null===ee||void 0===ee||ee.emit("CreateLecture",e),ce(-1),ne({title:"New lecture created",status:"success",duration:1500,isClosable:!0})},children:"Create Lecture"}),Object(S.jsx)(x.a,{leftIcon:Object(S.jsx)(F.e,{}),colorScheme:"red",mr:50,w:150,h:50,onClick:function(){return ce(-1)},children:"Cancel"})]}),Object(S.jsx)("br",{})]})},ot=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(M,{url:"http://localhost:5000/",children:[Object(S.jsx)(I,{}),Object(S.jsx)(b.a,{children:Object(S.jsxs)(O.c,{children:[Object(S.jsx)(O.a,{path:"/",element:Object(S.jsx)(Ze,{})}),Object(S.jsx)(O.a,{path:"class/:classUuid/:memberType",element:Object(S.jsx)(de,{})}),Object(S.jsx)(O.a,{path:"class/:classUuid/:memberType/createLecture",element:Object(S.jsx)(at,{})}),Object(S.jsx)(O.a,{path:"class/:classUuid/:memberType/:lectureId",element:Object(S.jsx)(Fe,{})})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,310)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),i(e),s(e)}))},ut=function(e){var t=e.children,c=Object(o.useState)(""),n=Object(N.a)(c,2),i=n[0],s=n[1],a=Object(o.useState)(r.LOADING),l=Object(N.a)(a,2),u=l[0],d=l[1],j=Object(o.useState)(-1),b=Object(N.a)(j,2),O=b[0],h=b[1];return Object(o.useEffect)((function(){u===r.LOADING&&fetch("http://localhost:5000/api/me",{method:"GET"}).then((function(e){return e.json()})).then((function(e){401===e.status?d(r.NOTLOADED):200===e.status&&(console.log("Logged IN"),s(e.userName),h(e.id),d(r.LOADED))})).catch((function(e){return console.error(e)}))}),[]),Object(S.jsx)(C.Provider,{value:{userName:i,status:u,id:O},children:t})},dt=function(e){var t=e.children,c=Object(o.useState)(0),n=Object(N.a)(c,2),r=n[0],i=n[1],s=Object(o.useState)(!1),a=Object(N.a)(s,2),l=a[0],u=a[1];return Object(S.jsx)(G.Provider,{value:{isLive:l,setIsLive:u,selectedVidIdx:r,setSelectedVidIdx:i},children:t})},jt=function(e){var t=e.children,c=Object(o.useState)(s.KO),n=Object(N.a)(c,2),r=n[0],i=n[1];return Object(S.jsx)(Q.Provider,{value:{language:r,setLanguage:i},children:t})};d.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(j.a,{children:Object(S.jsx)(ut,{children:Object(S.jsx)(dt,{children:Object(S.jsx)(jt,{children:Object(S.jsx)(ot,{})})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),lt()}},[[291,1,2]]]);
//# sourceMappingURL=main.0b9a25a4.chunk.js.map